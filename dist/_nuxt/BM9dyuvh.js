const c="api_cache_";function r(e){if(typeof localStorage>"u")return null;try{const n=localStorage.getItem(c+e);if(!n)return null;const{data:t,expiresAt:a}=JSON.parse(n);return a!=null&&Date.now()>Number(a)?null:t}catch{return null}}function o(e,n){if(!(typeof localStorage>"u"))try{const t=Date.now()+36e5;localStorage.setItem(c+e,JSON.stringify({data:n,expiresAt:t}))}catch(t){console.warn("ApiCache setCached failed:",t)}}async function l(e,n){const t=r(e);if(t!==null)return t;const a=await n();return o(e,a),a}export{l as f};
