{"version":3,"file":"FluxKontextTool-HcX7hgIp.js","sources":["../../../../virtual:public?%2Ftools-logo%2FFluxKontext.png","../../../../components/tools/FluxKontextTool.vue"],"sourcesContent":["import { publicAssetsURL } from '#internal/nuxt/paths';export default publicAssetsURL(\"/tools-logo/FluxKontext.png\")","<template>\n  <div class=\"flux-kontext-tool\">\n    <!-- 工具信息头部 -->\n    <div class=\"tool-header\">\n      <div class=\"tool-avatar\">\n        <img src=\"/tools-logo/FluxKontext.png\" alt=\"Flux Kontext\" />\n      </div>\n      <div class=\"tool-details\">\n        <h3>Flux Kontext</h3>\n        <p>High-quality image generation and editing model</p>\n      </div>\n    </div>\n\n    <!-- 主内容区域：左右布局 -->\n    <div class=\"main-content\">\n      <!-- 左侧：参数配置面板 (1/3) -->\n      <div class=\"config-panel\">\n        <div class=\"config-header\">\n          <h4>Image Generation Configuration</h4>\n        </div>\n\n        <form class=\"config-form\" @submit.prevent=\"generateImage\">\n          <fieldset class=\"config-fieldset\" :disabled=\"isGenerating || isDetailView\">\n          <!-- 模式选择 -->\n          <div class=\"form-group\">\n            <label class=\"form-label\">Mode Selection *</label>\n            <div class=\"mode-switch\">\n              <button \n                type=\"button\"\n                class=\"mode-btn\"\n                :class=\"{ active: mode === 'generate' }\"\n                @click=\"mode = 'generate'\"\n              >\n                <i class=\"fas fa-image\"></i>\n                Image Generation\n              </button>\n              <button \n                type=\"button\"\n                class=\"mode-btn\"\n                :class=\"{ active: mode === 'edit' }\"\n                @click=\"mode = 'edit'\"\n              >\n                <i class=\"fas fa-edit\"></i>\n                Image Editing\n              </button>\n            </div>\n          </div>\n\n          <!-- 提示词输入 -->\n          <div class=\"form-group\">\n            <label for=\"prompt\" class=\"form-label\">\n              Prompt <span class=\"required\">*</span>\n            </label>\n            <textarea\n              id=\"prompt\"\n              v-model=\"formData.prompt\"\n              class=\"form-input\"\n              rows=\"4\"\n              placeholder=\"Describe in detail the image content you want to generate, including scenes, styles, colors, etc... (English only)\"\n              required\n            ></textarea>\n            <div class=\"form-hint\">\n              Example: \"A serene mountain landscape at sunset with a lake reflecting the orange sky\"\n            </div>\n          </div>\n\n          <!-- 自动翻译 -->\n          <div class=\"form-group\">\n            <label class=\"checkbox-label\" for=\"enable-translation\">\n              <input \n                id=\"enable-translation\"\n                type=\"checkbox\" \n                v-model=\"formData.enableTranslation\"\n              />\n              <span class=\"checkmark\"></span>\n              Enable Auto Translation\n            </label>\n            <div class=\"form-hint\">\n              Automatically translate non-English prompts to English\n            </div>\n          </div>\n\n\n          <!-- 编辑模式：上传图片 -->\n          <div class=\"form-group\" v-if=\"mode === 'edit'\">\n            <UploadImage\n              ref=\"inputImageUploadRef\"\n              input-id=\"flux-kontext-input-image\"\n              label=\"Upload Image *\"\n              upload-icon=\"fas fa-cloud-upload-alt\"\n              upload-text=\"Click to upload image\"\n              upload-hint=\"Supports .jfif, .jpeg, .jpg, .png, .webp\"\n              :multiple=\"false\"\n              :max-file-size=\"10 * 1024 * 1024\"\n              additional-hint=\"Must be a valid image file for edit mode\"\n              theme-color=\"#667eea\"\n              @update:files=\"handleInputImage\"\n            />\n            <div v-if=\"isUploadingImage\" class=\"uploading-hint\">\n              <i class=\"fas fa-spinner fa-spin\"></i> Uploading image...\n            </div>\n          </div>\n\n          <!-- 长宽比选择 -->\n          <div class=\"form-group\">\n            <label class=\"form-label\">Aspect Ratio</label>\n            <div class=\"tab-group\">\n              <div class=\"tab-row\">\n                <button \n                  type=\"button\"\n                  class=\"tab-option\"\n                  :class=\"{ active: formData.aspectRatio === '21:9' }\"\n                  @click=\"formData.aspectRatio = '21:9'\"\n                >\n                  <span>21:9</span>\n                  <span class=\"tab-label\">Ultra Wide</span>\n                </button>\n                <button \n                  type=\"button\"\n                  class=\"tab-option\"\n                  :class=\"{ active: formData.aspectRatio === '16:9' }\"\n                  @click=\"formData.aspectRatio = '16:9'\"\n                >\n                  <span>16:9</span>\n                  <span class=\"tab-label\">Wide</span>\n                </button>\n                <button \n                  type=\"button\"\n                  class=\"tab-option\"\n                  :class=\"{ active: formData.aspectRatio === '4:3' }\"\n                  @click=\"formData.aspectRatio = '4:3'\"\n                >\n                  <span>4:3</span>\n                  <span class=\"tab-label\">Standard</span>\n                </button>\n              </div>\n              <div class=\"tab-row\">\n                <button \n                  type=\"button\"\n                  class=\"tab-option\"\n                  :class=\"{ active: formData.aspectRatio === '1:1' }\"\n                  @click=\"formData.aspectRatio = '1:1'\"\n                >\n                  <span>1:1</span>\n                  <span class=\"tab-label\">Square</span>\n                </button>\n                <button \n                  type=\"button\"\n                  class=\"tab-option\"\n                  :class=\"{ active: formData.aspectRatio === '3:4' }\"\n                  @click=\"formData.aspectRatio = '3:4'\"\n                >\n                  <span>3:4</span>\n                  <span class=\"tab-label\">Portrait</span>\n                </button>\n                <button \n                  type=\"button\"\n                  class=\"tab-option\"\n                  :class=\"{ active: formData.aspectRatio === '9:16' }\"\n                  @click=\"formData.aspectRatio = '9:16'\"\n                >\n                  <span>9:16</span>\n                  <span class=\"tab-label\">Mobile</span>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <!-- 输出格式 -->\n          <div class=\"form-group\">\n            <label class=\"form-label\">Output Format</label>\n            <div class=\"tab-group\">\n              <div class=\"tab-options\">\n                <button \n                  type=\"button\"\n                  class=\"tab-option\"\n                  :class=\"{ active: formData.outputFormat === 'jpeg' }\"\n                  @click=\"formData.outputFormat = 'jpeg'\"\n                >\n                  <span>JPEG</span>\n                </button>\n                <button \n                  type=\"button\"\n                  class=\"tab-option\"\n                  :class=\"{ active: formData.outputFormat === 'png' }\"\n                  @click=\"formData.outputFormat = 'png'\"\n                >\n                  <span>PNG</span>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <!-- 提示词增强 -->\n          <div class=\"form-group\">\n            <label class=\"checkbox-label\" for=\"prompt-upsampling\">\n              <input \n                id=\"prompt-upsampling\"\n                type=\"checkbox\" \n                v-model=\"formData.promptUpsampling\"\n              />\n              <span class=\"checkmark\"></span>\n              Prompt Enhancement\n            </label>\n            <div class=\"form-hint\">\n              Enhance the prompt, may increase processing time\n            </div>\n          </div>\n\n          <!-- 模型选择 -->\n          <div class=\"form-group\">\n            <label for=\"model\" class=\"form-label\">Model Version</label>\n            <select id=\"model\" v-model=\"formData.model\" class=\"form-input\">\n              <option value=\"flux-kontext-pro\">Flux Kontext Pro - Performance Balanced</option>\n              <option value=\"flux-kontext-max\">Flux Kontext Max - Advanced Features</option>\n            </select>\n            <div class=\"form-hint\">\n              Max version has higher quality and detail, suitable for complex tasks\n            </div>\n          </div>\n\n          <!-- 安全容忍度 -->\n          <div class=\"form-group\">\n            <label for=\"safety-tolerance\" class=\"form-label\">\n              Safety Tolerance ({{ formData.safetyTolerance }})\n            </label>\n            <input\n              id=\"safety-tolerance\"\n              v-model=\"formData.safetyTolerance\"\n              type=\"range\"\n              min=\"0\"\n              max=\"6\"\n              class=\"form-slider\"\n            />\n            <div class=\"slider-labels\">\n              <span>Strictest (0)</span>\n              <span>More Relaxed (6)</span>\n            </div>\n          </div>\n\n          <!-- 水印 -->\n          <div class=\"form-group\">\n            <label for=\"watermark\" class=\"form-label\">Watermark Identifier</label>\n            <input\n              id=\"watermark\"\n              v-model=\"formData.watermark\"\n              type=\"text\"\n              class=\"form-input\"\n              placeholder=\"your-watermark-id\"\n            />\n            <div class=\"form-hint\">\n              Optional, if provided will add a watermark to the output image\n            </div>\n          </div>\n\n          <!-- 生成按钮容器 -->\n          <div class=\"generate-btn-container\">\n            <button \n              type=\"submit\" \n              class=\"generate-btn\"\n              :disabled=\"!canGenerate || isGenerating\"\n            >\n              <i v-if=\"isGenerating\" class=\"fas fa-spinner fa-spin\"></i>\n              <i v-else class=\"fas fa-magic\"></i>\n              {{ isGenerating ? 'Generating...' : 'Generate Image' }}\n              <span class=\"price-tag\">{{ fluxKontextPriceText }}</span>\n            </button>\n          </div>\n          </fieldset>\n        </form>\n      </div>\n\n      <!-- 右侧：结果展示区域 (2/3) -->\n      <div class=\"result-panel\">\n        <div class=\"result-header\">\n          <h4>Generation Result</h4>\n          <button \n            v-if=\"!isDetailView && generatedImages.length > 0\" \n            @click=\"clearResults\" \n            class=\"clear-btn\"\n          >\n            <i class=\"fas fa-trash\"></i>\n            Clear Results\n          </button>\n        </div>\n\n        <div class=\"result-content\">\n          <!-- 详情页：status 2 展示 outputUrls -->\n          <div v-if=\"isDetailView && detailData && detailData.status === 2 && detailOutputImages.length > 0\" class=\"image-grid\">\n            <div v-for=\"(image, index) in detailOutputImages\" :key=\"index\" class=\"image-item\">\n              <div class=\"image-container\">\n                <img :src=\"image.url\" :alt=\"`Generated image ${index + 1}`\" />\n                <div class=\"image-overlay\">\n                  <button @click=\"downloadImage(image)\" class=\"action-btn\">\n                    <i class=\"fas fa-download\"></i>\n                  </button>\n                  <button @click=\"copyImageUrl(image)\" class=\"action-btn\">\n                    <i class=\"fas fa-copy\"></i>\n                  </button>\n                </div>\n              </div>\n              <div class=\"image-info\">\n                <div class=\"image-meta\">\n                  <span class=\"image-size\">{{ image.aspectRatio }}</span>\n                  <span class=\"image-format\">{{ image.format.toUpperCase() }}</span>\n                </div>\n                <div class=\"image-prompt\">{{ image.prompt }}</div>\n              </div>\n            </div>\n          </div>\n          <!-- 详情页：status 3 失败 -->\n          <div v-else-if=\"isDetailView && detailData && detailData.status === 3\" class=\"detail-failure-state\">\n            <div class=\"failure-icon\"><i class=\"fas fa-exclamation-circle\"></i></div>\n            <p class=\"failure-message\">Generation failed. You can debug the parameters and try generating again. Generation failure will not consume credits.</p>\n          </div>\n          <!-- 详情页：status 1 或加载中 -->\n          <div v-else-if=\"isDetailView && (!detailData || detailData.status === 1)\" class=\"detail-loading-state\">\n            <i class=\"fas fa-spinner fa-spin detail-spinner\"></i>\n            <p>Generating...</p>\n          </div>\n          <!-- 详情页：其他 -->\n          <div v-else-if=\"isDetailView\" class=\"detail-loading-state\">\n            <p>No output images</p>\n          </div>\n          <!-- 空状态 -->\n          <div v-else-if=\"generatedImages.length === 0\" class=\"empty-state\">\n            <i class=\"fas fa-image\"></i>\n            <p>No image generated yet</p>\n            <span>Configure parameters and click \"Generate Image\" to start creating</span>\n          </div>\n\n          <!-- 图像结果（非详情页） -->\n          <div v-else class=\"image-grid\">\n            <div \n              v-for=\"(image, index) in generatedImages\" \n              :key=\"index\"\n              class=\"image-item\"\n            >\n              <div class=\"image-container\">\n                <img :src=\"image.url\" :alt=\"`Generated image ${index + 1}`\" />\n                <div class=\"image-overlay\">\n                  <button @click=\"downloadImage(image)\" class=\"action-btn\">\n                    <i class=\"fas fa-download\"></i>\n                  </button>\n                  <button @click=\"copyImageUrl(image)\" class=\"action-btn\">\n                    <i class=\"fas fa-copy\"></i>\n                  </button>\n                </div>\n              </div>\n              <div class=\"image-info\">\n                <div class=\"image-meta\">\n                  <span class=\"image-size\">{{ image.aspectRatio }}</span>\n                  <span class=\"image-format\">{{ image.format.toUpperCase() }}</span>\n                </div>\n                <div class=\"image-prompt\">{{ image.prompt }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, onMounted, watch } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport UploadImage from '../tools/common/UploadImage.vue'\nimport { useAuth } from '~/composables/useAuth'\nimport { useToast } from '~/composables/useToast'\nimport { useApi } from '~/composables/useApi'\nimport { useModelPrice } from '~/composables/useModelPrice'\nimport { useRecordPolling } from '~/composables/useRecordPolling'\n\nconst router = useRouter()\nconst route = useRoute()\nconst { token } = useAuth()\nconst { showError } = useToast()\nconst { post } = useApi()\nconst { fetchRecordDetailOnce, pollRecordByStatus } = useRecordPolling()\nconst { fetchPrices, getPrice, formatCredits } = useModelPrice()\n\nonMounted(() => { fetchPrices() })\n\n// 价格：Model Version flux_kontext_pro / flux_kontext_max 分别对应不同 credits\nconst fluxKontextPriceText = computed(() => {\n  const modelKey = formData.model === 'flux-kontext-max' ? 'flux_kontext_max' : 'flux_kontext_pro'\n  const credits = getPrice(modelKey)\n  const str = formatCredits(credits)\n  return str ? `(${str})` : ''\n})\n\n// 表单数据（与后端 DTO 对应）\nconst formData = reactive({\n  prompt: '',\n  enableTranslation: true,\n  inputImage: '',\n  inputImageFile: null,\n  imageUrl: '', // 编辑模式上传后的 URL\n  aspectRatio: '16:9',\n  outputFormat: 'jpeg',\n  promptUpsampling: false,\n  model: 'flux-kontext-pro',\n  safetyTolerance: 2,\n  watermark: ''\n})\n\n// 状态管理\nconst mode = ref('generate') // 'generate' 或 'edit'\nconst isGenerating = ref(false)\nconst isUploadingImage = ref(false)\nconst generatedImages = ref([])\nconst inputImageUploadRef = ref(null)\n\n// 详情页：仅从 URL 读取 record-id\nconst routeRecordId = computed(() => route.query['record-id'] || '')\nconst isDetailView = computed(() => !!routeRecordId.value)\nconst detailData = ref(null)\nconst loadingRecordId = ref(null)\n\nconst aspectRatioReverseMap = {\n  RATIO_21_9: '21:9', RATIO_16_9: '16:9', RATIO_4_3: '4:3',\n  RATIO_1_1: '1:1', RATIO_3_4: '3:4', RATIO_9_16: '9:16'\n}\n\nconst detailOutputImages = computed(() => {\n  if (!detailData.value || !Array.isArray(detailData.value.outputUrls)) return []\n  const urls = detailData.value.outputUrls\n  const od = detailData.value.originalData || {}\n  const aspectRatio = aspectRatioReverseMap[od.aspectRatio] || od.aspectRatio || '16:9'\n  const format = (od.outputFormat || 'JPEG').toLowerCase() === 'png' ? 'png' : 'jpeg'\n  const prompt = od.prompt || ''\n  return urls.map((url, i) => ({\n    url: typeof url === 'string' ? url : url?.url ?? url?.imageUrl ?? '',\n    aspectRatio,\n    format,\n    prompt\n  })).filter(img => img.url)\n})\n\nfunction fillFormFromOriginalData(originalData) {\n  if (!originalData || typeof originalData !== 'object') return\n  const o = originalData\n  if (o.prompt != null) formData.prompt = o.prompt\n  if (typeof o.enableTranslation === 'boolean') formData.enableTranslation = o.enableTranslation\n  if (o.imageUrl) {\n    formData.imageUrl = o.imageUrl\n    mode.value = 'edit'\n  } else {\n    mode.value = 'generate'\n  }\n  if (o.aspectRatio) formData.aspectRatio = aspectRatioReverseMap[o.aspectRatio] || o.aspectRatio || formData.aspectRatio\n  if (o.outputFormat) formData.outputFormat = (o.outputFormat || 'JPEG').toLowerCase() === 'png' ? 'png' : 'jpeg'\n  if (typeof o.promptUpsampling === 'boolean') formData.promptUpsampling = o.promptUpsampling\n  if (o.model) formData.model = o.model === 'flux_kontext_max' ? 'flux-kontext-max' : (o.model === 'flux_kontext_pro' ? 'flux-kontext-pro' : formData.model)\n  if (o.safetyTolerance != null) formData.safetyTolerance = Number(o.safetyTolerance) ?? 2\n  if (o.watermark != null) formData.watermark = String(o.watermark || '')\n}\n\nfunction getRouteRecordId() { return route.query['record-id'] || '' }\nasync function loadDetailByRecordId(recordId) {\n  if (!recordId) return\n  if (getRouteRecordId() !== recordId) return\n  if (loadingRecordId.value === recordId) return\n  loadingRecordId.value = recordId\n  detailData.value = null\n  try {\n    const data = await fetchRecordDetailOnce(recordId)\n    if (getRouteRecordId() !== recordId) return\n    detailData.value = data || null\n    if (data?.originalData) fillFormFromOriginalData(data.originalData)\n    if (data != null && Number(data.status) === 1) {\n      pollRecordByStatus(recordId, { getIsCancelled: () => getRouteRecordId() !== recordId }).then((result) => {\n        if (getRouteRecordId() !== recordId) return\n        detailData.value = result\n        if (result?.originalData) fillFormFromOriginalData(result.originalData)\n      }).catch(() => {})\n    }\n  } catch (e) {\n    console.error('Load record detail failed:', e)\n  }\n}\n\nwatch(() => route.query['record-id'], (recordId) => {\n  if (recordId) loadDetailByRecordId(recordId)\n  else { loadingRecordId.value = null; detailData.value = null }\n}, { immediate: true })\n\nconst getAuthToken = () => {\n  if (!process.client) return null\n  try {\n    if (token?.value) return token.value\n    return localStorage.getItem('auth_token')\n  } catch {\n    return localStorage.getItem('auth_token')\n  }\n}\n\n// 编辑模式：上传输入图片并得到 imageUrl\nconst handleInputImage = async (files) => {\n  if (!files || files.length === 0) {\n    formData.inputImageFile = null\n    formData.inputImage = ''\n    formData.imageUrl = ''\n    inputImageUploadRef.value?.clearFiles?.()\n    return\n  }\n  const file = files[0] || files\n  const fileObj = Array.isArray(file) ? file[0] : file\n  if (!fileObj) {\n    formData.imageUrl = ''\n    return\n  }\n  formData.inputImageFile = fileObj\n  formData.inputImage = URL.createObjectURL(fileObj)\n  isUploadingImage.value = true\n  try {\n    const formDataUpload = new FormData()\n    formDataUpload.append('file', fileObj)\n    const headers = { Accept: 'application/json' }\n    const authToken = getAuthToken()\n    if (authToken) headers['Authorization'] = `Bearer ${authToken}`\n    const response = await fetch('/api/common/batch-upload', {\n      method: 'POST',\n      headers,\n      body: formDataUpload,\n      credentials: 'include'\n    })\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}))\n      const msg = (typeof errorData?.errorMessage === 'string' && errorData.errorMessage.trim())\n        ? errorData.errorMessage.trim()\n        : (typeof errorData?.message === 'string' && errorData.message.trim())\n          ? errorData.message.trim()\n          : (errorData?.userTip || errorData?.error || errorData?.message || 'Upload failed')\n      throw new Error(msg)\n    }\n    const data = await response.json()\n    const urls = data?.data?.urls || data?.fileUrls || (Array.isArray(data?.data) ? data.data : [])\n    if (Array.isArray(urls) && urls[0]) {\n      formData.imageUrl = urls[0]\n    } else {\n      throw new Error('Invalid response: file URL not found')\n    }\n  } catch (error) {\n    console.error('Input image upload error:', error)\n    showError(error.message || 'Failed to upload image', 5000)\n    formData.imageUrl = ''\n    formData.inputImageFile = null\n    formData.inputImage = ''\n    inputImageUploadRef.value?.clearFiles?.()\n  } finally {\n    isUploadingImage.value = false\n  }\n}\n\n// 计算属性\nconst canGenerate = computed(() => {\n  if (!formData.prompt.trim()) return false\n  if (mode.value === 'edit') return !!formData.imageUrl\n  return true\n})\n\n// 映射前端值到后端枚举\nconst aspectRatioMap = {\n  '21:9': 'RATIO_21_9',\n  '16:9': 'RATIO_16_9',\n  '4:3': 'RATIO_4_3',\n  '1:1': 'RATIO_1_1',\n  '3:4': 'RATIO_3_4',\n  '9:16': 'RATIO_9_16'\n}\nconst outputFormatMap = { jpeg: 'JPEG', png: 'PNG' }\n// Model Version：接口使用连字符 flux-kontext-pro / flux-kontext-max\n\n// 生成图像\nconst generateImage = async () => {\n  if (!canGenerate.value) return\n  if (mode.value === 'edit' && !formData.imageUrl) {\n    showError('Please upload an image for edit mode')\n    return\n  }\n  const promptTrim = formData.prompt.trim()\n  if (promptTrim.length > 5000) {\n    showError('Prompt cannot exceed 5000 characters')\n    return\n  }\n\n  isGenerating.value = true\n  try {\n    // 编辑模式必填 imageUrl（已上传）；生成模式传空，若后端对生成也要求 imageUrl 需后端改为可选或传占位\n    const requestBody = {\n      prompt: promptTrim,\n      enableTranslation: !!formData.enableTranslation,\n      imageUrl: mode.value === 'edit' ? formData.imageUrl : '',\n      aspectRatio: aspectRatioMap[formData.aspectRatio] || 'RATIO_16_9',\n      outputFormat: outputFormatMap[formData.outputFormat] || 'JPEG',\n      promptUpsampling: !!formData.promptUpsampling,\n      model: formData.model || 'flux-kontext-pro',\n      safetyTolerance: Number(formData.safetyTolerance) ?? 2,\n      watermark: (formData.watermark && String(formData.watermark).trim()) || undefined\n    }\n    if (requestBody.watermark && requestBody.watermark.length > 100) {\n      showError('Watermark identifier cannot exceed 100 characters')\n      return\n    }\n    const data = await post('/api/image/flux-kontext/generate', requestBody)\n    const recordId = data?.recordId ?? data?.data?.recordId\n    if (recordId) {\n      router.push(`/home/flux-kontext/generate?record-id=${encodeURIComponent(recordId)}`)\n      return\n    }\n    let urls = data?.outputUrls\n    if (!Array.isArray(urls) || urls.length === 0) {\n      const single = data?.url ?? data?.imageUrl\n      if (single) urls = [single]\n    }\n    const url = Array.isArray(urls) && urls[0] ? (typeof urls[0] === 'string' ? urls[0] : urls[0]?.url ?? urls[0]?.imageUrl) : null\n    if (!url || typeof url !== 'string') {\n      showError('No image URL in response')\n      return\n    }\n    const newImage = {\n      url,\n      prompt: formData.prompt,\n      aspectRatio: formData.aspectRatio,\n      format: formData.outputFormat,\n      model: formData.model,\n      timestamp: new Date()\n    }\n    generatedImages.value.unshift(newImage)\n  } catch (error) {\n    console.error('生成图像失败:', error)\n    showError(error.message || '生成图像失败，请重试')\n  } finally {\n    isGenerating.value = false\n  }\n}\n\n// 下载图像\nconst downloadImage = (image) => {\n  const link = document.createElement('a')\n  link.href = image.url\n  link.download = `flux-kontext-${Date.now()}.${image.format}`\n  link.click()\n}\n\n// 复制图像URL\nconst copyImageUrl = async (image) => {\n  try {\n    await navigator.clipboard.writeText(image.url)\n    alert('图像URL已复制到剪贴板')\n  } catch (error) {\n    console.error('复制失败:', error)\n  }\n}\n\n// 清空结果\nconst clearResults = () => {\n  generatedImages.value = []\n}\n</script>\n\n<style scoped>\n.flux-kontext-tool {\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  background: #ffffff;\n  border-radius: 16px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n}\n\n.tool-header {\n  display: flex;\n  align-items: center;\n  padding-bottom: 20px;\n  border-bottom: 1px solid #e2e8f0;\n  margin-bottom: 20px;\n}\n\n.tool-avatar {\n  width: 48px;\n  height: 48px;\n  border-radius: 8px;\n  overflow: hidden;\n  margin-right: 16px;\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.tool-avatar img {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  image-rendering: auto;\n}\n\n.tool-details h3 {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: #1f2937;\n}\n\n.tool-details p {\n  margin: 0;\n  font-size: 14px;\n  color: #6b7280;\n}\n\n\n.action-btn {\n  width: 36px;\n  height: 36px;\n  border: none;\n  background: #f3f4f6;\n  border-radius: 8px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n}\n\n.action-btn:hover {\n  background: #e5e7eb;\n  color: #667eea;\n}\n\n.main-content {\n  display: flex;\n  flex: 1;\n  min-height: 0;\n  gap: 20px;\n}\n\n.config-panel {\n  width: 35%;\n  background: #f8fafc;\n  border-radius: 12px;\n  padding: 20px;\n  border: 1px solid #e2e8f0;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  overflow-y: auto;\n}\n\n.config-header {\n  padding: 0 0 20px 0;\n  border-bottom: 1px solid #e2e8f0;\n  margin-bottom: 20px;\n}\n\n.config-header h4 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: #1e293b;\n}\n\n.config-form {\n  flex: 1;\n}\n\n.config-fieldset {\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 24px;\n}\n\n.form-label {\n  font-size: 14px;\n  font-weight: 500;\n  color: #374151;\n}\n\n.required {\n  color: #ef4444;\n}\n\n.form-input {\n  padding: 12px;\n  border: 1px solid #d1d5db;\n  border-radius: 8px;\n  font-size: 14px;\n  transition: border-color 0.2s ease;\n}\n\n.form-input:focus {\n  outline: none;\n  border-color: #667eea;\n  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n}\n\n.form-hint {\n  font-size: 12px;\n  color: #6b7280;\n  line-height: 1.4;\n}\n\n.uploading-hint {\n  font-size: 12px;\n  color: #667eea;\n  margin-top: 6px;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.mode-switch {\n  display: flex;\n  gap: 8px;\n  background: #f3f4f6;\n  padding: 4px;\n  border-radius: 8px;\n}\n\n.mode-btn {\n  flex: 1;\n  padding: 8px 16px;\n  border: none;\n  background: transparent;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  color: #6b7280;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.mode-btn.active {\n  background: white;\n  color: #667eea;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  color: #374151;\n}\n\n.checkbox-label input[type=\"checkbox\"] {\n  width: 16px;\n  height: 16px;\n  accent-color: #667eea;\n}\n\n.form-slider {\n  width: 100%;\n  height: 6px;\n  border-radius: 3px;\n  background: #e5e7eb;\n  outline: none;\n  -webkit-appearance: none;\n  appearance: none;\n}\n\n.form-slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  appearance: none;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: #667eea;\n  cursor: pointer;\n}\n\n.slider-labels {\n  display: flex;\n  justify-content: space-between;\n  font-size: 12px;\n  color: #6b7280;\n}\n\n/* Tab Group Styles */\n.tab-group {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  background: transparent;\n  padding: 0;\n  border-radius: 0;\n}\n\n.tab-row {\n  display: flex;\n  gap: 8px;\n}\n\n.tab-options {\n  display: flex;\n  gap: 8px;\n}\n\n.tab-option {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  padding: 10px 8px;\n  border: 1px solid #e2e8f0;\n  background: white;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 500;\n  color: #6b7280;\n  transition: all 0.2s ease;\n}\n\n.tab-option span {\n  display: block;\n}\n\n.tab-option .tab-label {\n  font-size: 11px;\n  opacity: 0.7;\n}\n\n.tab-option.active {\n  background: #667eea;\n  border-color: #667eea;\n  color: white;\n  box-shadow: 0 1px 2px rgba(102, 126, 234, 0.3);\n}\n\n.tab-option.active .tab-label {\n  opacity: 1;\n}\n\n.tab-option:hover:not(.active) {\n  background: #f8fafc;\n  border-color: #667eea;\n}\n\n.generate-btn-container {\n  display: flex;\n  justify-content: center;\n  margin-top: 24px;\n}\n\n.generate-btn {\n  width: 100%;\n  padding: 12px 24px;\n  background: linear-gradient(135deg, #667eea, #764ba2);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n}\n\n.generate-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);\n}\n\n.generate-btn:disabled {\n  background: #d1d5db;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.price-tag {\n  font-size: 12px;\n  font-weight: 500;\n  opacity: 0.8;\n  margin-left: 4px;\n}\n\n.result-panel {\n  width: 65%;\n  background: #ffffff;\n  border-radius: 12px;\n  padding: 20px;\n  border: 1px solid #e2e8f0;\n  min-height: 400px;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  overflow-y: auto;\n}\n\n.result-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n  padding-bottom: 16px;\n  border-bottom: 1px solid #e5e7eb;\n}\n\n.result-header h4 {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: #1f2937;\n}\n\n.clear-btn {\n  padding: 8px 16px;\n  background: #ef4444;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.clear-btn:hover {\n  background: #dc2626;\n}\n\n.detail-loading-state, .detail-failure-state {\n  display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 16px; padding: 40px; text-align: center;\n}\n.detail-spinner { font-size: 48px; color: #667eea; }\n.detail-loading-state p, .detail-failure-state p { margin: 0; font-size: 16px; color: #64748b; }\n.detail-failure-state .failure-icon { font-size: 56px; color: #ef4444; }\n.detail-failure-state .failure-message { max-width: 420px; line-height: 1.6; color: #374151; }\n\n.empty-state {\n  text-align: center;\n  padding: 60px 20px;\n  color: #6b7280;\n}\n\n.empty-state i {\n  font-size: 48px;\n  margin-bottom: 16px;\n  opacity: 0.5;\n}\n\n.empty-state p {\n  font-size: 18px;\n  font-weight: 500;\n  margin: 0 0 8px 0;\n}\n\n.empty-state span {\n  font-size: 14px;\n}\n\n.image-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 20px;\n}\n\n.image-item {\n  border: 1px solid #e5e7eb;\n  border-radius: 12px;\n  overflow: hidden;\n  transition: all 0.2s ease;\n}\n\n.image-item:hover {\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.image-container {\n  position: relative;\n  aspect-ratio: 16/9;\n  overflow: hidden;\n}\n\n.image-container img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.image-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  opacity: 0;\n  transition: opacity 0.2s ease;\n}\n\n.image-container:hover .image-overlay {\n  opacity: 1;\n}\n\n.image-overlay .action-btn {\n  background: rgba(255, 255, 255, 0.9);\n  color: #374151;\n}\n\n.image-overlay .action-btn:hover {\n  background: white;\n  color: #667eea;\n}\n\n.image-info {\n  padding: 16px;\n}\n\n.image-meta {\n  display: flex;\n  gap: 12px;\n  margin-bottom: 8px;\n}\n\n.image-size,\n.image-format {\n  font-size: 12px;\n  padding: 4px 8px;\n  border-radius: 4px;\n  background: #f3f4f6;\n  color: #6b7280;\n}\n\n.image-prompt {\n  font-size: 14px;\n  color: #374151;\n  line-height: 1.4;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n/* 响应式设计 */\n@media (max-width: 1024px) {\n  .main-content {\n    flex-direction: column;\n  }\n  \n  .config-panel,\n  .result-panel {\n    width: 100%;\n  }\n}\n\n@media (max-width: 768px) {\n  .flux-kontext-tool {\n    padding: 16px;\n  }\n  \n  .tool-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 12px;\n  }\n  \n  .config-header {\n    padding: 0 0 16px 0;\n  }\n  \n  .main-content {\n    flex-direction: column;\n    padding: 20px;\n  }\n  \n  .config-panel,\n  .result-panel {\n    padding: 20px;\n  }\n  \n  .image-grid {\n    grid-template-columns: 1fr;\n  }\n}\n</style>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_ssrIncludeBooleanAttr","_ssrInterpolate","_ssrLooseContain","_ssrRenderClass","_ssrLooseEqual"],"mappings":"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"}