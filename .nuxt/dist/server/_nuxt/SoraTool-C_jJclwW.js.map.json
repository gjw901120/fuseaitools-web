{"file":"SoraTool-C_jJclwW.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_ssrRenderClass","_ssrInterpolate","_ssrRenderList","_ssrLooseContain","_ssrLooseEqual","_ssrIncludeBooleanAttr","_unref"],"sources":["../../../../virtual:public?%2Ftools-logo%2Fsora.png","../../../../components/tools/SoraTool.vue"],"sourcesContent":["import { publicAssetsURL } from '#internal/nuxt/paths';export default publicAssetsURL(\"/tools-logo/sora.png\")","<template>\r\n  <div class=\"sora-tool\">\r\n    <!-- 工具信息头部 -->\r\n    <div class=\"tool-header\">\r\n      <div class=\"tool-avatar\">\r\n        <img src=\"/tools-logo/sora.png\" alt=\"Sora\" />\r\n      </div>\r\n      <div class=\"tool-details\">\r\n        <h3>Sora</h3>\r\n        <p>Sora 2 is OpenAI’s latest AI video generation model, supporting both text-to-video and image-to-video. It delivers realistic motion, physics consistency, with improved control over style, scene, and aspect ratio—ideal for creative apps and social media content.</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 顶部：模式切换（从左侧移至顶部） -->\r\n    <div class=\"mode-tabs\">\r\n      <div class=\"mode-tab\"\r\n           :class=\"{ active: form.model === 'text-to-video' }\"\r\n           @click=\"switchMode('text-to-video')\">\r\n        <i class=\"fas fa-keyboard\"></i>\r\n        <span>text-to-video</span>\r\n      </div>\r\n      <div class=\"mode-tab\"\r\n           :class=\"{ active: form.model === 'image-to-video' }\"\r\n           @click=\"switchMode('image-to-video')\">\r\n        <i class=\"fas fa-image\"></i>\r\n        <span>image-to-video</span>\r\n      </div>\r\n      <div class=\"mode-tab\"\r\n           :class=\"{ active: form.model === 'pro-text-to-video' }\"\r\n           @click=\"switchMode('pro-text-to-video')\">\r\n        <i class=\"fas fa-magic\"></i>\r\n        <span>pro-text-to-video</span>\r\n      </div>\r\n      <div class=\"mode-tab\"\r\n           :class=\"{ active: form.model === 'pro-image-to-video' }\"\r\n           @click=\"switchMode('pro-image-to-video')\">\r\n        <i class=\"fas fa-wand-magic-sparkles\"></i>\r\n        <span>pro-image-to-video</span>\r\n      </div>\r\n      <div class=\"mode-tab\"\r\n           :class=\"{ active: form.model === 'watermark-remover' }\"\r\n           @click=\"switchMode('watermark-remover')\">\r\n        <i class=\"fas fa-water\"></i>\r\n        <span>watermark-remover</span>\r\n      </div>\r\n      <div class=\"mode-tab\"\r\n           :class=\"{ active: form.model === 'pro-storyboard' }\"\r\n           @click=\"switchMode('pro-storyboard')\">\r\n        <i class=\"fas fa-book\"></i>\r\n        <span>pro-storyboard</span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"main-content\">\r\n      <!-- 左侧配置面板 -->\r\n      <div class=\"config-panel\">\r\n        <div class=\"config-header\">\r\n          <h4>Sora Configuration</h4>\r\n        </div>\r\n\r\n        <!-- 模式选择已移动至顶部 -->\r\n        <fieldset class=\"config-fieldset\" :disabled=\"isGenerating\">\r\n\r\n        <!-- Prompt (hidden for watermark-remover & pro-storyboard) -->\r\n        <div class=\"form-group\" v-if=\"!['watermark-remover','pro-storyboard'].includes(form.model)\">\r\n          <label for=\"prompt\">Prompt *</label>\r\n          <textarea\r\n            id=\"prompt\"\r\n            v-model=\"form.input.prompt\"\r\n            rows=\"5\"\r\n            maxlength=\"10000\"\r\n            placeholder=\"The text prompt describing the desired video motion\"\r\n            required\r\n          ></textarea>\r\n          <div class=\"char-count\">{{ form.input.prompt.length }}/10000</div>\r\n        </div>\r\n\r\n        <!-- Image Upload（image-to-video & pro-image-to-video 必填，storyboard 可选） -->\r\n        <div class=\"form-group\" v-if=\"['image-to-video','pro-image-to-video','pro-storyboard'].includes(form.model)\">\r\n          <label>Reference Images *</label>\r\n          <span v-if=\"isUploadingImages\" class=\"form-hint\">Uploading images...</span>\r\n          <UploadImage\r\n            ref=\"imageUploadRef\"\r\n            input-id=\"sora-image-upload\"\r\n            label=\"\"\r\n            upload-icon=\"fas fa-cloud-upload-alt\"\r\n            upload-text=\"Click to upload image\"\r\n            upload-hint=\"Supports JPG/PNG/WEBP, up to 3 images, max 10MB each\"\r\n            theme-color=\"#3b82f6\"\r\n            :max-files=\"3\"\r\n            :max-file-size=\"10 * 1024 * 1024\"\r\n            accept=\"image/*\"\r\n            :multiple=\"true\"\r\n            @update:files=\"handleSoraImagesUpdate\"\r\n          />\r\n          \r\n        </div>\r\n\r\n        <!-- Aspect Ratio (tab 单选; hidden for watermark-remover) -->\r\n        <div class=\"form-group\" v-if=\"form.model !== 'watermark-remover'\">\r\n          <label>Aspect Ratio</label>\r\n          <div class=\"tab-group\">\r\n            <div class=\"tab-options\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"tab-option\"\r\n                :class=\"{ active: form.input.aspect_ratio === 'portrait' }\"\r\n                @click=\"form.input.aspect_ratio = 'portrait'\"\r\n              >\r\n                portrait\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"tab-option\"\r\n                :class=\"{ active: form.input.aspect_ratio === 'landscape' }\"\r\n                @click=\"form.input.aspect_ratio = 'landscape'\"\r\n              >\r\n                landscape\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-help\">Defines the generated video's aspect ratio.</div>\r\n        </div>\r\n\r\n        <!-- n_frames (tab 单选; hidden for watermark-remover) -->\r\n        <div class=\"form-group\" v-if=\"form.model !== 'watermark-remover'\">\r\n          <label>Frames</label>\r\n          <div class=\"tab-group\">\r\n            <div class=\"tab-options\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"tab-option\"\r\n                :class=\"{ active: form.input.n_frames === '10' }\"\r\n                @click=\"form.input.n_frames = '10'\"\r\n              >\r\n                10s\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"tab-option\"\r\n                :class=\"{ active: form.input.n_frames === '15' }\"\r\n                @click=\"form.input.n_frames = '15'\"\r\n              >\r\n                15s\r\n              </button>\r\n              <button\r\n                v-if=\"form.model === 'pro-storyboard'\"\r\n                type=\"button\"\r\n                class=\"tab-option\"\r\n                :class=\"{ active: form.input.n_frames === '25' }\"\r\n                @click=\"form.input.n_frames = '25'\"\r\n              >\r\n                25s\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-help\" v-if=\"form.model === 'pro-storyboard'\">Frames is required for storyboard.</div>\r\n        </div>\r\n\r\n        <!-- size (仅 pro 模式) - tab 切换，无 Default -->\r\n        <div class=\"form-group\" v-if=\"['pro-text-to-video','pro-image-to-video'].includes(form.model)\">\r\n          <label>Size</label>\r\n          <div class=\"tab-group\">\r\n            <div class=\"tab-options\">\r\n              <button \r\n                type=\"button\"\r\n                class=\"tab-option\"\r\n                :class=\"{ active: form.input.size === 'standard' }\"\r\n                @click=\"form.input.size = 'standard'\"\r\n              >\r\n                standard\r\n              </button>\r\n              <button \r\n                type=\"button\"\r\n                class=\"tab-option\"\r\n                :class=\"{ active: form.input.size === 'high' }\"\r\n                @click=\"form.input.size = 'high'\"\r\n              >\r\n                high\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- remove_watermark (hidden for watermark-remover & pro-storyboard) -->\r\n        <div class=\"form-group\" v-if=\"!['watermark-remover','pro-storyboard'].includes(form.model)\">\r\n          <label>Remove Watermark</label>\r\n          <div class=\"tab-group\">\r\n            <div class=\"tab-options\">\r\n              <button \r\n                type=\"button\"\r\n                class=\"tab-option\"\r\n                :class=\"{ active: form.input.remove_watermark === true }\"\r\n                @click=\"form.input.remove_watermark = true\"\r\n              >\r\n                <i class=\"fas fa-check\"></i>\r\n                true\r\n              </button>\r\n              <button \r\n                type=\"button\"\r\n                class=\"tab-option\"\r\n                :class=\"{ active: form.input.remove_watermark === false }\"\r\n                @click=\"form.input.remove_watermark = false\"\r\n              >\r\n                <i class=\"fas fa-times\"></i>\r\n                false\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- watermark remover 专用：视频 URL 下拉选择 -->\r\n        <div class=\"form-group\" v-if=\"form.model === 'watermark-remover'\">\r\n          <label class=\"form-label\">Video Url <span class=\"required\">*</span></label>\r\n          <div class=\"select-wrapper\">\r\n            <select\r\n              v-model=\"form.input.video_url\"\r\n              class=\"form-select\"\r\n              :disabled=\"isLoadingVideoList\"\r\n            >\r\n              <option value=\"\">Please select a video</option>\r\n              <option \r\n                v-for=\"video in videoList\" \r\n                :key=\"video.value || video.url || video.id\"\r\n                :value=\"video.value || video.url || video.id\"\r\n              >\r\n                {{ video.label || video.name || video.title || video.url }}\r\n              </option>\r\n            </select>\r\n            <i class=\"fas fa-chevron-down\"></i>\r\n          </div>\r\n          <div class=\"form-help\">Select a video URL from the list</div>\r\n        </div>\r\n\r\n        <!-- storyboard shots builder -->\r\n        <div class=\"form-group\" v-if=\"form.model === 'pro-storyboard'\">\r\n          <label>shots (Total Duration: {{ form.input.n_frames || '?' }}s)</label>\r\n          <div class=\"shots-list\">\r\n            <div class=\"shot-card\" v-for=\"(shot, idx) in scenes\" :key=\"shot.id\">\r\n              <div class=\"shot-title\">Scene {{ idx + 1 }}</div>\r\n              <textarea\r\n                class=\"shot-text\"\r\n                v-model=\"shot.scene\"\r\n                rows=\"3\"\r\n                :placeholder=\"`Describe this scene... who, where, what happens?`\"\r\n              ></textarea>\r\n              <div class=\"shot-footer\">\r\n                <div class=\"duration-input\">\r\n                  <input\r\n                    class=\"duration-field\"\r\n                    type=\"text\"\r\n                    v-model=\"shot.duration\"\r\n                  />\r\n                  <span class=\"duration-s\">s</span>\r\n                </div>\r\n                <button\r\n                  v-if=\"scenes.length > 1\"\r\n                  type=\"button\"\r\n                  class=\"shot-delete\"\r\n                  @click=\"removeScene(idx)\"\r\n                  title=\"Delete scene\"\r\n                >\r\n                  <i class=\"fas fa-trash\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <button type=\"button\" class=\"add-shot\" @click=\"addScene\">\r\n              <i class=\"fas fa-plus\"></i> Add Scene\r\n            </button>\r\n          </div>\r\n          <div \r\n            class=\"duration-warning error\" \r\n            v-if=\"form.input.n_frames && totalSceneDuration > Number(form.input.n_frames)\"\r\n          >\r\n            <i class=\"fas fa-exclamation-triangle\"></i>\r\n            Total scene duration exceeds maximum limit, please adjust each scene duration\r\n          </div>\r\n          <div \r\n            class=\"duration-warning info\" \r\n            v-else-if=\"form.input.n_frames && remainingDuration > 0\"\r\n          >\r\n            <i class=\"fas fa-exclamation-triangle\"></i>\r\n            Please allocate all remaining duration ({{ remainingDuration.toFixed(2) }}s) to scenes before generating\r\n          </div>\r\n          <div class=\"form-help\">Add one or more scenes. Each scene includes a textual description and its duration in seconds.</div>\r\n        </div>\r\n\r\n        <!-- 提交 -->\r\n        <div class=\"form-actions\">\r\n          <button class=\"btn-primary\" :disabled=\"!canSubmit || isGenerating\" @click.prevent=\"onSubmit\">\r\n            <i v-if=\"isGenerating\" class=\"fas fa-spinner fa-spin\"></i>\r\n            <i v-else class=\"fas fa-play\"></i>\r\n            {{ isGenerating ? 'Submitting...' : 'Start Generation' }}\r\n            <span v-if=\"soraPriceText\" class=\"price-tag\">{{ soraPriceText }}</span>\r\n          </button>\r\n        </div>\r\n        </fieldset>\r\n      </div>\r\n\r\n      <!-- 右侧结果面板 -->\r\n      <div class=\"result-panel\">\r\n        <div class=\"video-header\">\r\n          <h4>Result Preview</h4>\r\n          <div class=\"video-actions\" v-if=\"results.length > 0\">\r\n            <button @click=\"results = []\" class=\"btn-secondary\">\r\n              <i class=\"fas fa-trash\"></i> Clear\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"video-container\">\r\n          <div v-if=\"results.length > 0\" class=\"video-showcase\">\r\n            <div v-for=\"(item, idx) in results\" :key=\"idx\" class=\"video-showcase-item\">\r\n              <pre class=\"payload-json\">{{ typeof item === 'object' ? JSON.stringify(item, null, 2) : item }}</pre>\r\n            </div>\r\n          </div>\r\n          <div v-else class=\"empty-state\">\r\n            <div class=\"empty-icon\">\r\n              <i class=\"fas fa-film\"></i>\r\n            </div>\r\n            <h3>Waiting for Generation</h3>\r\n            <p>Configure parameters, then click Start Generation.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, computed, watch, onMounted } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport UploadImage from './common/UploadImage.vue'\r\nimport { useAuth } from '~/composables/useAuth'\r\nimport { useToast } from '~/composables/useToast'\r\nimport { useApi } from '~/composables/useApi'\r\nimport { useModelPrice } from '~/composables/useModelPrice'\r\nimport { useRecordPolling } from '~/composables/useRecordPolling'\r\n\r\nconst route = useRoute()\r\nconst router = useRouter()\r\nconst isClient = typeof window !== 'undefined'\r\nconst { token } = useAuth()\r\nconst { showError } = useToast()\r\nconst { post } = useApi()\r\nconst { fetchPrices, getPrice, formatCredits } = useModelPrice()\r\nconst { pollRecordDetail } = useRecordPolling()\r\nonMounted(() => { fetchPrices() })\r\n\r\nconst getAuthToken = () => {\r\n  if (!isClient) return null\r\n  try {\r\n    if (token?.value) return token.value\r\n    return localStorage.getItem('auth_token')\r\n  } catch {\r\n    return localStorage.getItem('auth_token')\r\n  }\r\n}\r\n\r\nconst uploadFilesToUrls = async (files) => {\r\n  if (!files || (Array.isArray(files) ? files.length === 0 : !files)) return []\r\n  const list = Array.isArray(files) ? files : [files]\r\n  const formDataUpload = new FormData()\r\n  list.forEach(f => formDataUpload.append('file', f))\r\n  const headers = { Accept: 'application/json' }\r\n  const authToken = getAuthToken()\r\n  if (authToken) headers['Authorization'] = `Bearer ${authToken}`\r\n  const response = await fetch('/api/common/batch-upload', {\r\n    method: 'POST',\r\n    headers,\r\n    body: formDataUpload,\r\n    credentials: 'include'\r\n  })\r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}))\r\n    const msg = (typeof errorData?.errorMessage === 'string' && errorData.errorMessage?.trim())\r\n      ? errorData.errorMessage.trim()\r\n      : (typeof errorData?.message === 'string' && errorData.message?.trim())\r\n        ? errorData.message.trim()\r\n        : (errorData?.userTip || errorData?.error || errorData?.message || 'Upload failed')\r\n    throw new Error(msg)\r\n  }\r\n  const data = await response.json()\r\n  const urls = data?.data?.urls || data?.fileUrls || (Array.isArray(data?.data) ? data.data : [])\r\n  if (!Array.isArray(urls)) throw new Error('Invalid response: file URLs not found')\r\n  return urls\r\n}\r\n\r\nconst form = reactive({\r\n  model: 'text-to-video',\r\n  callBackUrl: '',\r\n  input: {\r\n    prompt: '',\r\n    aspect_ratio: 'portrait',\r\n    n_frames: '10',\r\n    remove_watermark: false,\r\n    image_urls: [],\r\n    size: 'standard',\r\n    video_url: ''\r\n  }\r\n})\r\n\r\nconst imageUploadRef = ref(null)\r\nconst imageUrlsText = ref('')\r\nconst videoList = ref([])\r\nconst isLoadingVideoList = ref(false)\r\nconst isUploadingImages = ref(false)\r\nconst scenes = ref([{ id: Date.now(), scene: '', duration: '7.5' }])\r\nconst totalSceneDuration = computed(() => scenes.value.reduce((sum, s) => sum + (parseFloat(s.duration) || 0), 0))\r\nconst framesSeconds = computed(() => Number(form.input.n_frames || 0))\r\nconst remainingDuration = computed(() => {\r\n  const rem = framesSeconds.value - totalSceneDuration.value\r\n  return rem > 0 ? rem : 0\r\n})\r\nconst isGenerating = ref(false)\r\nlet results = ref([])\r\nconst shotsJson = ref('')\r\n\r\n// 价格：Frames 表单字段 (n_frames) 映射为价格规则中的 duration；watermark-remover->sora-watermark-remover；pro-storyboard->sora-2-pro-storyboard(duration)；text/image->sora-2-*；pro-text/image->sora-2-pro-*(duration+size)\r\nconst soraPriceText = computed(() => {\r\n  const model = form.model\r\n  const duration = Number(form.input.n_frames) || 10 // Frames -> duration\r\n  let credits = null\r\n  if (model === 'watermark-remover') {\r\n    credits = getPrice('sora-watermark-remover')\r\n  } else if (model === 'pro-storyboard') {\r\n    credits = getPrice('sora-2-pro-storyboard', { duration, scene: 'generate' })\r\n  } else if (model === 'text-to-video') {\r\n    credits = getPrice('sora-2-text-to-video')\r\n  } else if (model === 'image-to-video') {\r\n    credits = getPrice('sora-2-image-to-video')\r\n  } else if (model === 'pro-text-to-video') {\r\n    // sora-2-pro-text-to-video RULE：按 size 对应 size、duration 对应 Frames(n_frames) 匹配，取 credits\r\n    credits = getPrice('sora-2-pro-text-to-video', {\r\n      duration,\r\n      size: form.input.size || 'standard'\r\n    })\r\n  } else if (model === 'pro-image-to-video') {\r\n    // sora-2-pro-image-to-video RULE：同上，按 size + duration(Frames) 匹配\r\n    credits = getPrice('sora-2-pro-image-to-video', {\r\n      duration,\r\n      size: form.input.size || 'standard'\r\n    })\r\n  }\r\n  const str = formatCredits(credits)\r\n  return str ? `(${str})` : ''\r\n})\r\n\r\nconst handleSoraImagesUpdate = async (files) => {\r\n  if (!files || (Array.isArray(files) && files.length === 0)) {\r\n    form.input.image_urls = []\r\n    return\r\n  }\r\n  const list = Array.isArray(files) ? files : [files]\r\n  isUploadingImages.value = true\r\n  try {\r\n    form.input.image_urls = await uploadFilesToUrls(list)\r\n  } catch (e) {\r\n    showError(e.message || 'Failed to upload images')\r\n    form.input.image_urls = []\r\n    imageUploadRef.value?.clearFiles?.()\r\n  } finally {\r\n    isUploadingImages.value = false\r\n  }\r\n}\r\n\r\n// Tab 与二级路由同步：/home/sora/text-to-video 等\r\nconst soraModeToPath = {\r\n  'text-to-video': '/home/sora/text-to-video',\r\n  'image-to-video': '/home/sora/image-to-video',\r\n  'pro-text-to-video': '/home/sora/pro-text-to-video',\r\n  'pro-image-to-video': '/home/sora/pro-image-to-video',\r\n  'watermark-remover': '/home/sora/watermark-remover',\r\n  'pro-storyboard': '/home/sora/pro-storyboard'\r\n}\r\nconst soraPathToMode = {\r\n  '/home/sora/text-to-video': 'text-to-video',\r\n  '/home/sora/image-to-video': 'image-to-video',\r\n  '/home/sora/pro-text-to-video': 'pro-text-to-video',\r\n  '/home/sora/pro-image-to-video': 'pro-image-to-video',\r\n  '/home/sora/watermark-remover': 'watermark-remover',\r\n  '/home/sora/pro-storyboard': 'pro-storyboard'\r\n}\r\n\r\nwatch(() => route.path, (path) => {\r\n  const mode = soraPathToMode[path]\r\n  if (mode && form.model !== mode) form.model = mode\r\n}, { immediate: true })\r\n\r\nconst switchMode = (model) => {\r\n  form.model = model\r\n  const path = soraModeToPath[model] || soraModeToPath['text-to-video']\r\n  router.push({ path, query: { ...route.query } })\r\n}\r\n\r\n// 获取视频列表\r\nconst fetchVideoList = async () => {\r\n  if (isLoadingVideoList.value) return\r\n  isLoadingVideoList.value = true\r\n  try {\r\n    const response = await fetch('/api/sora/video-list')\r\n    if (response.ok) {\r\n      const data = await response.json()\r\n      videoList.value = Array.isArray(data) ? data : (data.list || data.videos || [])\r\n    } else {\r\n      console.error('Failed to fetch video list')\r\n      videoList.value = []\r\n    }\r\n  } catch (error) {\r\n    console.error('Error fetching video list:', error)\r\n    videoList.value = []\r\n  } finally {\r\n    isLoadingVideoList.value = false\r\n  }\r\n}\r\n\r\n// 监听模式切换，如果是 watermark-remover 则加载视频列表\r\nwatch(() => form.model, (newModel) => {\r\n  if (newModel === 'watermark-remover' && videoList.value.length === 0) {\r\n    fetchVideoList()\r\n  }\r\n}, { immediate: true })\r\n\r\nconst canSubmit = computed(() => {\r\n  // watermark remover: require selected video URL\r\n  if (form.model === 'watermark-remover') {\r\n    return !!form.input.video_url && form.input.video_url.trim() !== ''\r\n  }\r\n  // storyboard: require n_frames and at least one scene, and total duration must equal frames\r\n  if (form.model === 'pro-storyboard') {\r\n    if (!form.input.n_frames) return false\r\n    if (!Array.isArray(scenes.value) || scenes.value.length === 0) return false\r\n    const diff = framesSeconds.value - totalSceneDuration.value\r\n    return Math.abs(diff) < 0.01\r\n  }\r\n  // other models require prompt\r\n  if (!form.input.prompt.trim()) return false\r\n  // image required for image-to-video models\r\n  if (['image-to-video','pro-image-to-video'].includes(form.model)) {\r\n    return Array.isArray(form.input.image_urls) && form.input.image_urls.length > 0\r\n  }\r\n  return true\r\n})\r\n\r\n// 前端 model -> 后端 model 字符串\r\nconst MODEL_MAP = {\r\n  'text-to-video': 'sora-2-text-to-video',\r\n  'image-to-video': 'sora-2-image-to-video',\r\n  'pro-text-to-video': 'sora-2-pro-text-to-video',\r\n  'pro-image-to-video': 'sora-2-pro-image-to-video',\r\n  'watermark-remover': 'sora-watermark-remover',\r\n  'pro-storyboard': 'sora-2-pro-storyboard'\r\n}\r\n\r\nconst addScene = () => {\r\n  scenes.value.push({ id: Date.now() + Math.random(), scene: '', duration: '7.5' })\r\n}\r\n\r\nconst removeScene = (idx) => {\r\n  if (scenes.value.length <= 1) return\r\n  scenes.value.splice(idx, 1)\r\n}\r\n\r\nconst onSubmit = async () => {\r\n  if (!canSubmit.value) return\r\n  const promptTrim = form.input.prompt?.trim()\r\n  if (!['watermark-remover', 'pro-storyboard'].includes(form.model) && (!promptTrim || promptTrim.length > 10000)) {\r\n    showError('Prompt is required and cannot exceed 10000 characters')\r\n    return\r\n  }\r\n\r\n  isGenerating.value = true\r\n  try {\r\n    const backendModel = MODEL_MAP[form.model]\r\n    let data\r\n\r\n    if (form.model === 'watermark-remover') {\r\n      const videoUrl = form.input.video_url?.trim()\r\n      if (!videoUrl) {\r\n        showError('Video URL is required')\r\n        return\r\n      }\r\n      data = await post('/api/video/sora/watermark-remover', {\r\n        model: backendModel,\r\n        videoUrl\r\n      })\r\n    } else if (form.model === 'pro-storyboard') {\r\n      const shots = scenes.value.map(s => ({\r\n        duration: Number(s.duration) || 0,\r\n        scene: String(s.scene || '').trim()\r\n      }))\r\n      if (shots.some(s => !s.scene)) {\r\n        showError('Each shot must have a scene description')\r\n        return\r\n      }\r\n      const body = {\r\n        model: backendModel,\r\n        nFrames: String(form.input.n_frames || '10'),\r\n        aspectRatio: form.input.aspect_ratio || 'portrait',\r\n        shots,\r\n        imageUrls: (form.input.image_urls && form.input.image_urls.length > 0) ? form.input.image_urls : undefined,\r\n        callBackUrl: form.callBackUrl?.trim() || undefined\r\n      }\r\n      data = await post('/api/video/sora-pro/storyboard', body)\r\n    } else if (['pro-text-to-video', 'pro-image-to-video'].includes(form.model)) {\r\n      const body = {\r\n        model: backendModel,\r\n        prompt: promptTrim,\r\n        imageUrls: (form.input.image_urls && form.input.image_urls.length > 0) ? form.input.image_urls : undefined,\r\n        aspectRatio: form.input.aspect_ratio || 'portrait',\r\n        nFrames: String(form.input.n_frames || '10'),\r\n        size: form.input.size || 'standard',\r\n        removeWatermark: !!form.input.remove_watermark\r\n      }\r\n      data = await post('/api/video/sora-pro/generate', body)\r\n    } else {\r\n      // text-to-video / image-to-video\r\n      const body = {\r\n        model: backendModel,\r\n        prompt: promptTrim,\r\n        imageUrls: (form.input.image_urls && form.input.image_urls.length > 0) ? form.input.image_urls : undefined,\r\n        aspectRatio: form.input.aspect_ratio || 'portrait',\r\n        nFrames: String(form.input.n_frames || '10'),\r\n        removeWatermark: !!form.input.remove_watermark\r\n      }\r\n      data = await post('/api/video/sora/generate', body)\r\n    }\r\n\r\n    let payload = data?.data ?? data\r\n    if (data?.recordId && !(Array.isArray(payload?.outputUrls) && payload.outputUrls.length)) {\r\n      const detail = await pollRecordDetail(data.recordId)\r\n      payload = typeof payload === 'object' ? { ...payload, ...detail } : detail\r\n    }\r\n    results.value.unshift(typeof payload === 'object' ? payload : { raw: payload })\r\n  } catch (e) {\r\n    console.error(e)\r\n    showError(e?.message || 'Request failed')\r\n  } finally {\r\n    isGenerating.value = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.sora-tool {\r\n  /* 可调变量：修改这些变量即可统一调整输入框尺寸 */\r\n  --shot-text-min-h: 80px;   /* 场景描述最小高度 */\r\n  --shot-text-w: 100%;       /* 场景描述宽度 */\r\n  --duration-w: 30px;        /* 时长输入宽度 */\r\n  --duration-h: 24px;        /* 时长输入高度 */\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 20px;\r\n  background: #ffffff;\r\n  border-radius: 16px;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.tool-header { display: flex; align-items: center; padding-bottom: 20px; border-bottom: 1px solid #e2e8f0; margin-bottom: 20px; }\r\n.tool-avatar { width: 48px; height: 48px; border-radius: 8px; overflow: hidden; margin-right: 16px; flex: 0 0 auto; display: flex; align-items: center; justify-content: center; }\r\n.tool-avatar img { width: 100%; height: 100%; object-fit: contain; image-rendering: auto; }\r\n.tool-details h3 { margin: 0; font-size: 18px; font-weight: 600; color: #1f2937; }\r\n.tool-details p { margin: 0; font-size: 14px; color: #6b7280; }\r\n\r\n/* 顶部模式切换 */\r\n.mode-tabs { display: grid; grid-template-columns: repeat(6, minmax(0, 1fr)); gap: 8px; padding: 12px 0 20px; border-bottom: 1px solid #e2e8f0; margin-bottom: 20px; }\r\n.mode-tab { width: 100%; box-sizing: border-box; padding: 10px 14px; border: 1px solid #e2e8f0; background: #fff; color: #64748b; border-radius: 8px; cursor: pointer; transition: all .2s ease; display: flex; align-items: center; justify-content: center; gap: 8px; font-size: 13px; font-weight: 600; min-height: 40px; word-break: break-word; }\r\n.mode-tab:hover { border-color: #3b82f6; background: #f8fafc; color: #3b82f6; }\r\n.mode-tab.active { background: #3b82f6; color: #fff; border-color: #3b82f6; }\r\n.mode-tab i { font-size: 14px; }\r\n\r\n.main-content { display: flex; flex: 1; min-height: 0; gap: 20px; }\r\n.config-panel { width: 35%; background: #f8fafc; border-radius: 12px; padding: 20px; border: 1px solid #e2e8f0; display: flex; flex-direction: column; min-height: 0; }\r\n.config-header { padding: 0 0 20px 0; border-bottom: 1px solid #e2e8f0; margin-bottom: 20px; }\r\n.config-header h4 { margin: 0; font-size: 16px; font-weight: 600; color: #1e293b; }\r\n.config-form { flex: 1; overflow-y: auto; }\r\n.config-fieldset { border: none; margin: 0; padding: 0; }\r\n\r\n.form-group { margin-bottom: 20px; }\r\n.form-group label { display: block; font-size: 14px; font-weight: 500; color: #374151; margin-bottom: 8px; }\r\n.form-group .required { color: #ef4444; }\r\n.form-group input, .form-group textarea, .form-group select { width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; transition: border-color 0.2s ease; box-sizing: border-box; }\r\n.form-group input:focus, .form-group textarea:focus, .form-group select:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }\r\n.char-count { text-align: right; font-size: 12px; color: #64748b; margin-top: 4px; }\r\n.form-help { font-size: 11px; color: #6b7280; font-weight: 400; margin-top: 4px; line-height: 1.4; }\r\n\r\n.tab-group { flex: 1; border: 1px solid #e5e7eb; border-radius: 12px; overflow: hidden; background: white; }\r\n.tab-options { display: flex; gap: 8px; }\r\n.tab-option { flex: 1; padding: 12px 16px; border: 1px solid #e5e7eb; background: white; color: #64748b; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; display: flex; align-items: center; justify-content: center; gap: 8px; font-size: 14px; font-weight: 500; }\r\n.tab-option:hover { border-color: #3b82f6; background: #f8fafc; color: #3b82f6; }\r\n.tab-option.active { background: #3b82f6; color: white; border-color: #3b82f6; }\r\n\r\n.select-wrapper { position: relative; }\r\n.select-wrapper select { appearance: none; padding-right: 40px; }\r\n.select-wrapper i { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); color: #64748b; pointer-events: none; }\r\n.form-select { width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; transition: border-color 0.2s ease; box-sizing: border-box; background: white; }\r\n.form-select:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }\r\n.form-select:disabled { background: #f3f4f6; cursor: not-allowed; }\r\n\r\n/* 上传区域样式（复用 Luma 风格） */\r\n.upload-area { position: relative; border: 2px dashed #d1d5db; border-radius: 12px; padding: 24px; text-align: center; transition: all 0.3s ease; background: #fafafa; cursor: pointer; }\r\n.upload-area:hover { border-color: #3b82f6; background: #f0f7ff; }\r\n.upload-area.has-files { border-color: #10b981; background: #f0fdf4; }\r\n.upload-content { display: flex; flex-direction: column; align-items: center; gap: 12px; }\r\n.upload-icon { width: 48px; height: 48px; display: flex; align-items: center; justify-content: center; background: #3b82f6; border-radius: 50%; color: white; font-size: 20px; }\r\n.upload-area.has-files .upload-icon { background: #10b981; }\r\n.upload-text { display: flex; flex-direction: column; gap: 4px; }\r\n.upload-title { font-size: 16px; font-weight: 600; color: #1f2937; margin: 0; }\r\n.upload-subtitle { font-size: 14px; color: #6b7280; margin: 0; }\r\n.file-input { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; cursor: pointer; }\r\n\r\n/* 上传后的内容样式 */\r\n.uploaded-content { display: flex; flex-direction: column; align-items: center; gap: 12px; width: 100%; }\r\n.uploaded-video-container { position: relative; width: 200px; height: 120px; border-radius: 12px; overflow: hidden; border: 2px solid #10b981; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }\r\n.uploaded-video { width: 100%; height: 100%; object-fit: cover; }\r\n.uploaded-text { display: flex; flex-direction: column; gap: 4px; text-align: center; }\r\n.uploaded-text .upload-title { font-size: 16px; font-weight: 600; color: #10b981; margin: 0; }\r\n.uploaded-text .upload-subtitle { font-size: 14px; color: #6b7280; margin: 0; }\r\n.remove-video-btn { position: absolute; top: -6px; right: -6px; width: 20px; height: 20px; background: #dc2626; color: white; border: none; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 10px; cursor: pointer; transition: all 0.2s ease; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); }\r\n.remove-video-btn:hover { background: #b91c1c; transform: scale(1.1); }\r\n\r\n/* shots builder */\r\n.shots-list { display: flex; flex-direction: column; gap: 16px; }\r\n.shot-card { background: #f8fafc; border: 1px solid #e5e7eb; border-radius: 8px; padding: 12px; }\r\n.shot-title { font-size: 13px; font-weight: 600; color: #1f2937; margin-bottom: 8px; }\r\n.shot-text { width: var(--shot-text-w); padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; resize: vertical; min-height: var(--shot-text-min-h); box-sizing: border-box; }\r\n.shot-footer { display: flex; justify-content: space-between; align-items: center; margin-top: 10px; }\r\n.duration-input { display: inline-flex; align-items: center; gap: 6px; }\r\n.duration-field { width: 30%; max-width: 80px; height: var(--duration-h); padding: 4px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 12px; text-align: right; box-sizing: border-box; }\r\n/* 隐藏数字输入的上下微调箭头（若浏览器仍显示） */\r\n.duration-field::-webkit-outer-spin-button,\r\n.duration-field::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }\r\n.duration-field[type=number] { -moz-appearance: textfield; }\r\n.duration-s { display: inline-block; padding: 3px 4px; background: #eef2ff; color: #475569; border-radius: 6px; font-size: 9px; }\r\n.shot-delete { border: 1px solid #ef4444; background: #fff1f2; color: #ef4444; border-radius: 6px; font-size: 12px; padding: 6px 10px; cursor: pointer; }\r\n.shot-delete:hover { background: #ffe4e6; }\r\n.add-shot { margin-top: 8px; border: 1px dashed #3b82f6; background: #f0f7ff; color: #1d4ed8; border-radius: 8px; padding: 8px 12px; font-size: 13px; cursor: pointer; }\r\n.add-shot:hover { background: #e0efff; }\r\n\r\n.duration-warning { margin-top: 8px; font-size: 12px; line-height: 1.5; display: flex; align-items: flex-start; gap: 6px; }\r\n.duration-warning i { line-height: 1; margin-top: 2px; }\r\n.duration-warning.error { color: #dc2626; font-size: 14px; }\r\n.duration-warning.info { color: #b45309; /* amber-700 */ font-size: 14px; }\r\n\r\n.form-actions { margin-top: 24px; padding-bottom: 20px; }\r\n.btn-primary { width: 100%; padding: 16px; background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; transition: all 0.3s ease; }\r\n.btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }\r\n.btn-primary:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }\r\n\r\n.result-panel { width: 65%; background: #ffffff; border-radius: 12px; padding: 20px; border: 1px solid #e2e8f0; min-height: 400px; display: flex; flex-direction: column; min-height: 0; }\r\n.video-header { padding: 20px; border-bottom: 1px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center; }\r\n.video-header h4 { font-size: 16px; font-weight: 600; color: #1e293b; margin: 0; }\r\n.video-container { flex: 1; padding: 30px; display: flex; align-items: center; justify-content: center; min-height: 80vh; }\r\n.video-showcase { width: 100%; max-width: 100%; }\r\n.video-showcase-item { width: 100%; background: #f8fafc; border-radius: 8px; overflow: hidden; margin-bottom: 16px; }\r\n.payload-json { margin: 0; padding: 16px; font-size: 12px; line-height: 1.5; background: #0f172a; color: #e2e8f0; white-space: pre-wrap; }\r\n.empty-state { text-align: center; color: #64748b; max-width: 500px; min-height: 60vh; display: flex; flex-direction: column; justify-content: center; align-items: center; }\r\n.empty-icon { font-size: 72px; color: #cbd5e1; margin-bottom: 24px; }\r\n\r\n@media (max-width: 1024px) {\r\n  .main-content { flex-direction: column; }\r\n  .config-panel, .result-panel { width: 100%; }\r\n  .mode-tabs { grid-template-columns: repeat(3, minmax(0, 1fr)); }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .sora-tool { padding: 16px; }\r\n  .mode-tabs { grid-template-columns: repeat(2, minmax(0, 1fr)); }\r\n}\r\n</style>\r\n\r\n\r\n"],"version":3}