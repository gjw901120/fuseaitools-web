import{_ as X}from"./DSLlGUtw.js";import{_ as ee}from"./BKLd6U9j.js";import{_ as T,r as C,A as B,B as F,x as U,o as l,c as i,l as M,a as e,f as H,v as z,g as o,h as se,i as te,t as I,d as w,s as G,ao as K,p as j,u as oe,k as O,z as q,C as ne,F as W,j as Y,n as Z,b,w as h,e as ae,ap as le,a9 as ie}from"./C0Gp0dND.js";import{u as J}from"./CGGC2AfW.js";import{u as ce}from"./BDUmhOtL.js";const re={class:"login-options"},de={class:"email-login"},ue=["disabled"],ve={key:0},pe={key:1},me={key:0,class:"error-message"},fe={__name:"LoginModal",props:{isOpen:{type:Boolean,default:!1}},emits:["close","google-login","email-login","show-verify-code"],setup(f,{emit:p}){const _=f,$=p,{post:L}=J(),g=C(""),a=C(!1),r=C(""),y=()=>{$("close"),g.value="",r.value=""},m=()=>{const u="423114934028-8rscjpq0a544tor5i3olc2pq8iaf0iig.apps.googleusercontent.com",n=encodeURIComponent("http://127.0.0.1:8080/api/user/login/google/callback"),V=encodeURIComponent("openid email profile"),x="code",E=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);sessionStorage.setItem("google_oauth_state",E);const S=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${u}&redirect_uri=${n}&response_type=${x}&scope=${V}&state=${E}&access_type=offline&prompt=consent`;window.location.href=S},k=async()=>{const u=g.value.trim();if(!u){r.value="Please enter your email";return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){r.value="Please enter a valid email address";return}a.value=!0,r.value="";try{await L("/api/user/send-email-code",{email:u}),$("show-verify-code",u),y()}catch(V){r.value=V.message||"Failed to send verification code"}finally{a.value=!1}};return B(()=>{const u=n=>{n.key==="Escape"&&_.isOpen&&y()};window.addEventListener("keydown",u),F(()=>{window.removeEventListener("keydown",u)})}),(u,n)=>(l(),U(K,{to:"body"},[f.isOpen?(l(),i("div",{key:0,class:"modal-overlay",onClick:y},[e("div",{class:"modal-content",onClick:n[1]||(n[1]=G(()=>{},["stop"]))},[e("button",{class:"close-btn",onClick:y},[...n[2]||(n[2]=[e("i",{class:"fas fa-times"},null,-1)])]),n[5]||(n[5]=e("div",{class:"modal-header"},[e("h2",{class:"modal-title"},"Welcome"),e("p",{class:"modal-subtitle"},"Sign in or sign up to continue")],-1)),e("div",re,[e("button",{class:"login-btn google-btn",onClick:m},[...n[3]||(n[3]=[e("div",{class:"btn-content"},[e("svg",{class:"google-icon",viewBox:"0 0 24 24",width:"20",height:"20"},[e("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]),e("span",null,"Continue with Google")],-1)])]),n[4]||(n[4]=e("div",{class:"divider"},[e("span",{class:"divider-text"},"OR")],-1)),e("div",de,[H(e("input",{"onUpdate:modelValue":n[0]||(n[0]=V=>te(g)?g.value=V:null),type:"email",class:"email-input",placeholder:"Enter your email",onKeyup:se(k,["enter"])},null,544),[[z,o(g)]]),e("button",{class:"login-btn continue-btn",onClick:k,disabled:o(a)},[o(a)?(l(),i("span",ve,"Sending...")):(l(),i("span",pe,"Continue"))],8,ue),o(r)?(l(),i("p",me,I(o(r)),1)):M("",!0)])]),n[6]||(n[6]=e("div",{class:"modal-footer"},[e("p",{class:"footer-text"},[w(" By signing up, you agree to the "),e("a",{href:"#",class:"footer-link"},"Terms of Service"),w(" and "),e("a",{href:"#",class:"footer-link"},"Privacy Policy"),w(". ")])],-1))])])):M("",!0)]))}},_e=T(fe,[["__scopeId","data-v-9caf3621"]]),ge=window.setInterval,be={class:"modal-header"},ye={class:"modal-subtitle"},ke={class:"verify-form"},he={class:"code-input-container"},Ce=["onUpdate:modelValue","onInput","onKeydown"],$e={key:0,class:"error-message"},we={key:1,class:"success-message"},Le={class:"resend-section"},Me={class:"resend-text"},Ve=["disabled"],xe=["disabled"],Ie={key:0},Ee={key:1},Te={__name:"VerifyCodeModal",props:{isOpen:{type:Boolean,default:!1},email:{type:String,required:!0}},emits:["close","verify-success"],setup(f,{emit:p}){const _=f,$=p,{post:L}=J(),{login:g}=j();oe();const a=C(["","","","","",""]),r=C([]),y=C(!1),m=C(""),k=C(""),u=C(!1),n=C(0),V=O(()=>a.value.every(c=>c!=="")),x=()=>{$("close"),E()},E=()=>{a.value=["","","","","",""],m.value="",k.value="",u.value=!1,y.value=!1,r.value[0]&&r.value[0].focus()},S=(c,t)=>{var v;const s=t.target.value.replace(/[^0-9]/g,"");a.value[c]=s,s&&c<5&&((v=r.value[c+1])==null||v.focus()),m.value="",u.value=!1},N=(c,t)=>{var s;t.key==="Backspace"&&!a.value[c]&&c>0&&((s=r.value[c-1])==null||s.focus())},D=c=>{var s,v;c.preventDefault();const t=c.clipboardData.getData("text").replace(/[^0-9]/g,"").slice(0,6);for(let d=0;d<6;d++)a.value[d]=t[d]||"";t.length===6?(s=r.value[5])==null||s.focus():t.length>0&&((v=r.value[t.length])==null||v.focus())},A=async()=>{var c,t;if(!V.value){m.value="Please enter the complete verification code",u.value=!0;return}y.value=!0,m.value="",k.value="",u.value=!1;try{const s=a.value.join(""),v=await L("/api/user/login-by-email",{email:_.email,code:s});if(v!=null&&v.token){const d=v.token;g(d)?(k.value="Verification successful!",$("verify-success",d),setTimeout(()=>{x()},500)):(m.value="Failed to process login",u.value=!0)}else m.value="Invalid response: token not found",u.value=!0,a.value=["","","","","",""],(c=r.value[0])==null||c.focus()}catch(s){m.value=s.message||"Login failed",u.value=!0,a.value=["","","","","",""],(t=r.value[0])==null||t.focus()}finally{y.value=!1}},P=async()=>{if(!(n.value>0)){y.value=!0,m.value="";try{await L("/api/user/send-email-code",{email:_.email}),k.value="Verification code resent!",n.value=60;const c=ge(()=>{n.value--,n.value<=0&&clearInterval(c)},1e3)}catch(c){m.value=c.message||"Failed to resend code"}finally{y.value=!1}}};return q(()=>_.isOpen,c=>{c&&(E(),ne(()=>{var t;(t=r.value[0])==null||t.focus()}))}),B(()=>{const c=t=>{t.key==="Escape"&&_.isOpen&&x()};window.addEventListener("keydown",c),F(()=>{window.removeEventListener("keydown",c)})}),(c,t)=>(l(),U(K,{to:"body"},[f.isOpen?(l(),i("div",{key:0,class:"modal-overlay",onClick:x},[e("div",{class:"modal-content",onClick:t[0]||(t[0]=G(()=>{},["stop"]))},[e("button",{class:"close-btn",onClick:x},[...t[1]||(t[1]=[e("i",{class:"fas fa-times"},null,-1)])]),e("div",be,[t[4]||(t[4]=e("h2",{class:"modal-title"},"Enter Verification Code",-1)),e("p",ye,[t[2]||(t[2]=w("We've sent a verification code to",-1)),t[3]||(t[3]=e("br",null,null,-1)),e("strong",null,I(f.email),1)])]),e("div",ke,[e("div",he,[(l(!0),i(W,null,Y(o(a),(s,v)=>H((l(),i("input",{key:v,ref_for:!0,ref:d=>o(r)[v]=d,"onUpdate:modelValue":d=>o(a)[v]=d,type:"text",maxlength:"1",class:Z(["code-input",{error:o(u)}]),onInput:d=>S(v,d),onKeydown:d=>N(v,d),onPaste:D},null,42,Ce)),[[z,o(a)[v]]])),128))]),o(m)?(l(),i("p",$e,I(o(m)),1)):M("",!0),o(k)?(l(),i("p",we,I(o(k)),1)):M("",!0),e("div",Le,[e("p",Me,[t[5]||(t[5]=w(" Didn't receive the code? ",-1)),e("button",{class:"resend-btn",onClick:P,disabled:o(n)>0},I(o(n)>0?`Resend in ${o(n)}s`:"Resend"),9,Ve)])]),e("button",{class:"verify-btn",onClick:A,disabled:!o(V)||o(y)},[o(y)?(l(),i("span",Ie,"Verifying...")):(l(),i("span",Ee,"Verify"))],8,xe)])])])):M("",!0)]))}},Se=T(Te,[["__scopeId","data-v-d2bfc93e"]]),Ae=""+new URL("favicon.B_IMNnZ4.ico",import.meta.url).href,Oe={class:"app-header"},Be={key:0,class:"top-banner"},Fe={class:"simply-container"},Ue={class:"header-content"},Ne={class:"logo"},De={class:"nav"},Pe={class:"header-actions"},Re={key:1,class:"user-info"},He=["src","alt"],ze={key:0,class:"user-name"},Ge={key:1,class:"user-menu"},Ke={key:0,class:"mobile-menu"},je={class:"mobile-actions"},qe={key:1,class:"mobile-user-info"},We=["src","alt"],Ye={key:0,class:"mobile-user-name"},Ze={__name:"AppHeader",setup(f){const{user:p,isAuthenticated:_,logout:$}=j(),L=O(()=>{var t;return(t=p.value)!=null&&t.avatar&&p.value.avatar.trim()?p.value.avatar:"/default-avatar.svg"}),g=O(()=>{var t;return(t=p.value)!=null&&t.name&&p.value.name.trim()?p.value.name:""}),a=C(!1),r=C(!1),y=C(!1),m=C(""),k=C(!1),u=()=>{a.value=!a.value},n=()=>{a.value=!1},V=()=>{r.value=!0,n()},x=()=>{r.value=!1},E=t=>{m.value=t,y.value=!0},S=()=>{y.value=!1,m.value=""},N=t=>{S(),x()},D=()=>{k.value=!k.value},A=()=>{$(),k.value=!1,n()},P=()=>{console.log("Google login")},c=t=>{console.log("Email login:",t)};return B(()=>{const t=s=>{k.value&&!s.target.closest(".user-info")&&!s.target.closest(".user-menu")&&(k.value=!1)};document.addEventListener("click",t),F(()=>{document.removeEventListener("click",t)})}),(t,s)=>{const v=X,d=ee,R=_e,Q=Se;return l(),i("header",Oe,[b(v,null,{default:h(()=>[o(_)?M("",!0):(l(),i("div",Be,[...s[0]||(s[0]=[e("div",{class:"top-banner-content"}," Sign up and get 100 credits â€” use all models on the platform for free. ",-1)])]))]),_:1}),e("div",Fe,[e("div",Ue,[e("div",Ne,[b(d,{to:"/",class:"logo-link"},{default:h(()=>[...s[1]||(s[1]=[e("img",{src:Ae,alt:"Logo",class:"logo-icon"},null,-1),e("span",null,"FuseAI",-1)])]),_:1})]),e("nav",De,[b(d,{to:"/home",class:"nav-link"},{default:h(()=>[...s[2]||(s[2]=[w("Home",-1)])]),_:1}),b(d,{to:"/pricing",class:"nav-link"},{default:h(()=>[...s[3]||(s[3]=[w("Pricing",-1)])]),_:1}),b(d,{to:"/news",class:"nav-link"},{default:h(()=>[...s[4]||(s[4]=[w("News",-1)])]),_:1}),b(d,{to:"/about",class:"nav-link"},{default:h(()=>[...s[5]||(s[5]=[w("About",-1)])]),_:1})]),e("div",Pe,[b(v,null,{fallback:h(()=>[...s[7]||(s[7]=[e("button",{class:"btn-signup",disabled:""},"Loading...",-1)])]),default:h(()=>[o(_)?(l(),i("div",Re,[e("img",{src:o(L),alt:o(g)||"User",class:"user-avatar",onClick:D},null,8,He),o(g)?(l(),i("span",ze,I(o(g)),1)):M("",!0),o(k)?(l(),i("div",Ge,[e("div",{class:"user-menu-item",onClick:A},[...s[6]||(s[6]=[e("i",{class:"fas fa-sign-out-alt"},null,-1),e("span",null,"Log out",-1)])])])):M("",!0)])):(l(),i("button",{key:0,class:"btn-signup",onClick:V},"Log in"))]),_:1})]),e("button",{class:"mobile-menu-btn",onClick:u},[...s[8]||(s[8]=[e("i",{class:"fas fa-bars"},null,-1)])])]),o(a)?(l(),i("div",Ke,[b(d,{to:"/home",class:"mobile-nav-link",onClick:n},{default:h(()=>[...s[9]||(s[9]=[w("Home",-1)])]),_:1}),b(d,{to:"/features",class:"mobile-nav-link",onClick:n},{default:h(()=>[...s[10]||(s[10]=[w("Features",-1)])]),_:1}),b(d,{to:"/pricing",class:"mobile-nav-link",onClick:n},{default:h(()=>[...s[11]||(s[11]=[w("Pricing",-1)])]),_:1}),b(d,{to:"/news",class:"mobile-nav-link",onClick:n},{default:h(()=>[...s[12]||(s[12]=[w("News",-1)])]),_:1}),b(d,{to:"/about",class:"mobile-nav-link",onClick:n},{default:h(()=>[...s[13]||(s[13]=[w("About",-1)])]),_:1}),e("div",je,[b(v,null,{fallback:h(()=>[...s[14]||(s[14]=[e("button",{class:"btn-signup",disabled:""},"Loading...",-1)])]),default:h(()=>[o(_)?(l(),i("div",qe,[e("img",{src:o(L),alt:o(g)||"User",class:"mobile-user-avatar"},null,8,We),o(g)?(l(),i("span",Ye,I(o(g)),1)):M("",!0),e("button",{class:"mobile-logout-btn",onClick:A},"Log out")])):(l(),i("button",{key:0,class:"btn-signup",onClick:V},"Log in"))]),_:1})])])):M("",!0)]),b(R,{"is-open":o(r),onClose:x,onGoogleLogin:P,onEmailLogin:c,onShowVerifyCode:E},null,8,["is-open"]),b(Q,{"is-open":o(y),email:o(m),onClose:S,onVerifySuccess:N},null,8,["is-open","email"])])}}},Je=T(Ze,[["__scopeId","data-v-5cd19e4c"]]),Qe={},Xe={class:"app-footer"};function es(f,p){return l(),i("footer",Xe,[...p[0]||(p[0]=[ae('<div class="simply-container" data-v-b1bd21b0><div class="footer-content" data-v-b1bd21b0><div class="footer-section" data-v-b1bd21b0><div class="logo" data-v-b1bd21b0><i class="fas fa-robot" data-v-b1bd21b0></i><span data-v-b1bd21b0>FuseAI</span></div><p class="company-description" data-v-b1bd21b0> Your intelligent AI assistant for work, learning, and creativity. Powered by advanced artificial intelligence technology. </p></div></div><div class="footer-bottom" data-v-b1bd21b0><div class="footer-bottom-content" data-v-b1bd21b0><div class="copyright" data-v-b1bd21b0><p data-v-b1bd21b0>Â© 2026 Fuse Tech . LTD. All rights reserved.</p></div></div></div></div>',1)])])}const ss=T(Qe,[["render",es],["__scopeId","data-v-b1bd21b0"]]),ts={class:"toast-content"},os={class:"toast-icon"},ns={key:0,class:"toast-emoji"},as={key:1,class:"fas fa-check-circle"},ls={key:2,class:"fas fa-exclamation-triangle"},is={key:3,class:"fas fa-info-circle"},cs={class:"toast-message-wrapper"},rs={class:"toast-message"},ds={__name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"error",validator:f=>["error","success","warning","info"].includes(f)},duration:{type:Number,default:3e3}},emits:["close"],setup(f,{emit:p}){const _=f,$=p,L=C(!0),g=O(()=>`toast-${_.type}`);let a=null;B(()=>{_.duration>0&&(a=setTimeout(()=>{r()},_.duration))});const r=()=>{a&&(clearTimeout(a),a=null),L.value=!1,setTimeout(()=>{$("close")},300)};return F(()=>{a&&clearTimeout(a)}),(y,m)=>(l(),U(le,{name:"toast"},{default:h(()=>[o(L)?(l(),i("div",{key:0,class:Z(["toast-container",o(g)])},[e("div",ts,[e("div",os,[f.type==="error"?(l(),i("span",ns,"ðŸ˜”")):f.type==="success"?(l(),i("i",as)):f.type==="warning"?(l(),i("i",ls)):(l(),i("i",is))]),e("div",cs,[e("div",rs,I(f.message),1)]),e("button",{class:"toast-close",onClick:r,"aria-label":"Close"},[...m[0]||(m[0]=[e("i",{class:"fas fa-times"},null,-1)])])])],2)):M("",!0)]),_:1}))}},us=T(ds,[["__scopeId","data-v-7f20bd99"]]),vs={key:0,class:"toast-wrapper"},ps={__name:"ToastContainer",setup(f){const{toasts:p,removeToast:_}=ce();return q(p,$=>{console.log("Toasts updated:",$.length,$)},{deep:!0}),($,L)=>{const g=us;return o(p).length>0?(l(),i("div",vs,[(l(!0),i(W,null,Y(o(p),a=>(l(),U(g,{key:a.id,message:a.message,type:a.type,duration:a.duration||5e3,onClose:r=>o(_)(a.id)},null,8,["message","type","duration","onClose"]))),128))])):M("",!0)}}},ms=T(ps,[["__scopeId","data-v-136232b3"]]),fs={},_s={class:"app-layout"},gs={class:"layout-header"},bs={class:"main-content"},ys={class:"simply-layout"},ks={class:"layout-footer"};function hs(f,p){const _=Je,$=ss,L=ms;return l(),i("div",_s,[e("div",gs,[b(_)]),e("main",bs,[e("div",ys,[ie(f.$slots,"default")])]),e("div",ks,[b($)]),b(L)])}const Vs=T(fs,[["render",hs]]);export{Vs as default};
