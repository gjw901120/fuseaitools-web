import{H as Te,_ as Se,D as Re,E as Ae,p as Ce,A as Oe,k as U,r as h,z as N,J,c as o,o as l,a as t,F as x,j as M,n as I,t as f,l as _,s as Y,f as b,v as T,b as Ve,K as P,e as se,d as G,C as $e}from"./C0Gp0dND.js";import{U as Ee}from"./Bunlb4cZ.js";import{u as Ne}from"./BDUmhOtL.js";import{u as Fe}from"./CGGC2AfW.js";import{u as ze}from"./hrq1PKX5.js";import{u as qe}from"./xQwj1BY5.js";const De=Te("/tools-logo/Midjourney.png"),Le={class:"midjourney-tool"},Pe={class:"function-selection-section"},Ge={class:"function-tabs"},Be=["onClick"],We={class:"function-icon"},He={class:"function-info"},Je={class:"function-name"},Ye={class:"function-description"},Ke={class:"main-content"},Xe={class:"config-panel"},Qe=["disabled"],Ze={class:"form-group"},et={class:"option-btn-group"},tt={class:"form-group"},st={class:"char-count"},at={class:"form-group"},it={class:"option-btn-group"},nt={key:0,class:"form-group"},ot={class:"form-group"},lt={class:"form-group"},rt={class:"form-group"},ut={class:"form-group"},dt={class:"form-group"},pt={class:"form-group"},ct={class:"form-actions"},mt=["disabled"],vt={key:0,class:"fas fa-spinner fa-spin"},ft={key:1,class:"fas fa-magic"},gt=["disabled"],yt={class:"form-group"},kt={class:"select-with-arrow"},bt=["disabled"],ht=["value"],It={key:0,class:"input-hint input-hint-warn"},_t={key:0,class:"form-group"},wt={class:"extend-image-index-grid"},jt=["onClick"],Ut=["src","alt"],xt={class:"index-badge"},Mt={class:"form-group"},Tt={class:"form-actions"},St=["disabled"],Rt={key:0,class:"fas fa-spinner fa-spin"},At={key:1,class:"fas fa-expand-arrows-alt"},Ct=["disabled"],Ot={class:"form-group"},Vt={class:"select-with-arrow"},$t=["disabled"],Et=["value"],Nt={key:0,class:"input-hint input-hint-warn"},Ft={key:0,class:"form-group"},zt={class:"extend-image-index-grid"},qt=["onClick"],Dt=["src","alt"],Lt={class:"index-badge"},Pt={class:"form-group"},Gt={class:"form-actions"},Bt=["disabled"],Wt={key:0,class:"fas fa-spinner fa-spin"},Ht={key:1,class:"fas fa-palette"},Jt={class:"results-display-panel"},Yt={class:"results-header"},Kt={key:0,class:"results-actions"},Xt={class:"results-container"},Qt={key:0,class:"results-showcase"},Zt={class:"result-content"},es=["src","alt"],ts={key:1,class:"result-json"},ss={key:1,class:"detail-failure-state"},as={key:2,class:"detail-loading-state"},is={key:3,class:"detail-loading-state"},ns={key:4,class:"results-showcase"},os={class:"result-header"},ls={class:"result-time"},rs={class:"result-type"},us={class:"result-content"},ds={class:"result-json"},ps={key:5,class:"empty-state"},cs="midjourney_imagine",ms={__name:"MidjourneyTool",setup(vs){const F=Re(),C=Ae(),{token:z}=Ce(),{showError:w}=Ne(),{post:B}=Fe(),{fetchPrices:ae,getPrice:ie,formatCredits:ne}=ze(),{fetchRecordDetailOnce:oe,pollRecordByStatus:le}=qe();Oe(()=>{ae()});const re={imagine:"midjourney_imagine",upscale:"midjourney_upscale",vary:"midjourney_vary"},W=U(()=>{const s=re[k.value]||"midjourney_imagine",e=ie(s),u=ne(e);return u?` (${u})`:""}),c=h(!1),O=h([]),ue=U(()=>C.query["record-id"]||""),j=U(()=>!!ue.value),g=h(null),V=h(null),K=U(()=>!g.value||!Array.isArray(g.value.outputUrls)?[]:g.value.outputUrls.map(s=>{const e=typeof s=="string"?s:(s==null?void 0:s.url)??(s==null?void 0:s.imageUrl)??"",u=/\.(jpe?g|png|gif|webp)(\?|$)/i.test(e)||e.startsWith("data:image/");return{url:e,isImage:u}}).filter(s=>s.url));function X(s){if(!s||typeof s!="object")return;const e=s;e.taskType&&(i.taskType=String(e.taskType)),e.prompt!=null&&(i.prompt=String(e.prompt)),e.speed&&(i.speed=String(e.speed)),e.fileUrl&&(i.fileUrls=[e.fileUrl]),Array.isArray(e.fileUrls)&&(i.fileUrls=[...e.fileUrls]),e.aspectRatio&&(i.aspectRatio=String(e.aspectRatio)),e.version&&(i.version=String(e.version)),e.variety!=null&&(i.variety=Number(e.variety)),e.stylization!=null&&(i.stylization=Number(e.stylization)),e.weirdness!=null&&(i.weirdness=Number(e.weirdness)),e.waterMark!=null&&(i.waterMark=String(e.waterMark))}function q(){return C.query["record-id"]||""}async function de(s){if(s&&q()===s&&V.value!==s){V.value=s,g.value=null;try{const e=await oe(s);if(q()!==s)return;g.value=e||null,e!=null&&e.originalData&&X(e.originalData),e!=null&&Number(e.status)===1&&le(s,{getIsCancelled:()=>q()!==s}).then(u=>{q()===s&&(g.value=u,u!=null&&u.originalData&&X(u.originalData))}).catch(()=>{})}catch(e){console.error("Load record detail failed:",e)}finally{V.value===s&&(V.value=null)}}}N(()=>C.query["record-id"],s=>{s?de(s):(V.value=null,g.value=null)},{immediate:!0});const k=h("imagine"),pe=["imagine","upscale","vary"],D={imagine:"/home/midjourney/imagine",upscale:"/home/midjourney/upscale",vary:"/home/midjourney/vary"},ce={"/home/midjourney/imagine":"imagine","/home/midjourney/upscale":"upscale","/home/midjourney/vary":"vary"};function me(s){const e=D[s]||"/home/midjourney/imagine";F.push({path:e,query:{...C.query}})}N(()=>C.path,s=>{const e=ce[s];e&&pe.includes(e)&&(k.value=e)},{immediate:!0});const ve=h([{id:"imagine",name:"Imagine",description:"Create a new image generation task using the Midjourney AI model",icon:"fas fa-wand-magic-sparkles"},{id:"upscale",name:"Upscale",description:"Create an upscale task based on previously generated Midjourney images",icon:"fas fa-expand-arrows-alt"},{id:"vary",name:"Vary",description:"Create a vary task to enhance image clarity and simulate styles based on previously generated Midjourney images",icon:"fas fa-palette"}]),Q={taskType:"mj_txt2img",prompt:"",speed:"relaxed",fileUrls:[],aspectRatio:"16:9",version:"7",variety:10,stylization:100,weirdness:0,waterMark:""},i=J({...Q}),Z={taskId:"",imageIndex:0,waterMark:""},m=J({...Z}),ee={taskId:"",imageIndex:1,waterMark:""},v=J({...ee}),$=h([]),S=h(!1),fe=async()=>{S.value=!0;try{const s=`/api/records/extend-list?model=${encodeURIComponent(cs)}`,e={Accept:"application/json"},u=te();u&&(e.Authorization=`Bearer ${u}`);const r=await $fetch(s,{method:"GET",headers:e,credentials:"include"}),a=(r&&Array.isArray(r.data)?r.data:Array.isArray(r)?r:[]).map(n=>({...n,taskId:n.taskId!=null?String(n.taskId):"",title:n.title!=null?String(n.title):""})).filter(n=>n.taskId);$.value=a,await $e()}catch{$.value=[]}finally{S.value=!1}};N(k,s=>{(s==="upscale"||s==="vary")&&fe(),s==="imagine"?Object.assign(i,Q):s==="upscale"?Object.assign(m,Z):s==="vary"&&Object.assign(v,ee)},{immediate:!0}),N(()=>m.taskId,()=>{m.imageIndex=0}),N(()=>v.taskId,()=>{v.imageIndex=1});const R=U(()=>$.value||[]),ge=U(()=>{const s=k.value==="upscale"?m.taskId:v.taskId;return!s||!$.value.length?null:$.value.find(e=>e.taskId===s)||null}),L=U(()=>{const s=ge.value;return!s||!Array.isArray(s.outputUrls)?[]:s.outputUrls.filter(e=>typeof e=="string"&&e.trim())}),ye=U(()=>{var s;return i.taskType!=="mj_img2img"?!1:!((s=i.fileUrls)!=null&&s.length)}),H=h(null),te=()=>{try{return z!=null&&z.value?z.value:localStorage.getItem("auth_token")}catch{return localStorage.getItem("auth_token")}},ke=async s=>{var E;if(!s||(Array.isArray(s)?s.length===0:!s))return[];const e=Array.isArray(s)?s:[s],u=new FormData;e.forEach(p=>u.append("file",p));const r={Accept:"application/json"},d=te();d&&(r.Authorization=`Bearer ${d}`);const a=await fetch("/api/common/batch-upload",{method:"POST",headers:r,body:u,credentials:"include"});if(!a.ok){const p=await a.json().catch(()=>({})),Me=typeof(p==null?void 0:p.errorMessage)=="string"&&p.errorMessage.trim()?p.errorMessage.trim():typeof(p==null?void 0:p.message)=="string"&&p.message.trim()?p.message.trim():(p==null?void 0:p.userTip)||(p==null?void 0:p.error)||(p==null?void 0:p.message)||"Upload failed";throw new Error(Me)}const n=await a.json(),y=((E=n==null?void 0:n.data)==null?void 0:E.urls)||(n==null?void 0:n.fileUrls)||(Array.isArray(n==null?void 0:n.data)?n.data:[]);if(!Array.isArray(y))throw new Error("Invalid response: file URLs not found");return y},be=async s=>{var u,r,d,a;if(!s||Array.isArray(s)&&s.length===0){i.fileUrls=[],(r=(u=H.value)==null?void 0:u.clearFiles)==null||r.call(u);return}const e=Array.isArray(s)?s:[s];try{i.fileUrls=await ke(e)}catch(n){w(n.message||"Failed to upload images"),i.fileUrls=[],(a=(d=H.value)==null?void 0:d.clearFiles)==null||a.call(d)}},A=s=>{O.value.unshift({time:new Date().toISOString(),data:s})},he=async()=>{var e,u,r,d,a;const s=(e=i.prompt)==null?void 0:e.trim();if(!s){w("Prompt cannot be empty");return}if(i.taskType==="mj_img2img"&&!((u=i.fileUrls)!=null&&u.length)){w("Input image(s) required for image-to-image");return}c.value=!0;try{const n={taskType:i.taskType,prompt:s,aspectRatio:i.aspectRatio,version:i.version,variety:i.variety,stylization:i.stylization,weirdness:i.weirdness,speed:i.speed};(r=i.fileUrls)!=null&&r.length&&(n.fileUrls=i.fileUrls,i.fileUrls.length===1&&(n.fileUrl=i.fileUrls[0])),(d=i.waterMark)!=null&&d.trim()&&(n.waterMark=i.waterMark.trim());const y=await B("/api/midjourney/imagine",n),E=(y==null?void 0:y.recordId)??((a=y==null?void 0:y.data)==null?void 0:a.recordId);if(E){F.push(`${D[k.value]||"/home/midjourney/imagine"}?record-id=${encodeURIComponent(E)}`);return}A(y),i.prompt="",i.fileUrls=[]}catch(n){A({error:(n==null?void 0:n.message)||String(n)}),w((n==null?void 0:n.message)||"Request failed")}finally{c.value=!1}},Ie=async()=>{var s,e,u;if(!((s=m.taskId)!=null&&s.trim())){w("Task ID is required");return}c.value=!0;try{const r={taskId:m.taskId.trim(),imageIndex:Number(m.imageIndex)};(e=m.waterMark)!=null&&e.trim()&&(r.waterMark=m.waterMark.trim());const d=await B("/api/midjourney/upscale",r),a=(d==null?void 0:d.recordId)??((u=d==null?void 0:d.data)==null?void 0:u.recordId);if(a){F.push(`${D[k.value]||"/home/midjourney/imagine"}?record-id=${encodeURIComponent(a)}`);return}A(d),m.taskId="",m.imageIndex=0}catch(r){A({error:(r==null?void 0:r.message)||String(r)}),w((r==null?void 0:r.message)||"Request failed")}finally{c.value=!1}},_e=async()=>{var s,e,u;if(!((s=v.taskId)!=null&&s.trim())){w("Task ID is required");return}c.value=!0;try{const r={taskId:v.taskId.trim(),imageIndex:Number(v.imageIndex)};(e=v.waterMark)!=null&&e.trim()&&(r.waterMark=v.waterMark.trim());const d=await B("/api/midjourney/vary",r),a=(d==null?void 0:d.recordId)??((u=d==null?void 0:d.data)==null?void 0:u.recordId);if(a){F.push(`${D[k.value]||"/home/midjourney/imagine"}?record-id=${encodeURIComponent(a)}`);return}A(d),v.taskId="",v.imageIndex=1}catch(r){A({error:(r==null?void 0:r.message)||String(r)}),w((r==null?void 0:r.message)||"Request failed")}finally{c.value=!1}},we=()=>{O.value=[]},je=s=>JSON.stringify(s,null,2),Ue=s=>new Date(s).toLocaleString("zh-CN"),xe=s=>s.error?"Error":s.result?"Task ID: "+s.result:s.code===1?"Submission Successful":s.code===0?"Operation Completed":"Response";return(s,e)=>{var u,r,d;return l(),o("div",Le,[e[50]||(e[50]=t("div",{class:"tool-header"},[t("div",{class:"tool-avatar"},[t("img",{src:De,alt:"Midjourney"})]),t("div",{class:"tool-details"},[t("h3",null,"Midjourney"),t("p",null,"AI image generation tool")])],-1)),t("div",Pe,[t("div",Ge,[(l(!0),o(x,null,M(ve.value,a=>(l(),o("div",{key:a.id,class:I(["function-tab",{active:k.value===a.id}]),onClick:n=>me(a.id)},[t("div",We,[t("i",{class:I(a.icon)},null,2)]),t("div",He,[t("div",Je,f(a.name),1),t("div",Ye,f(a.description),1)])],10,Be))),128))])]),t("div",Ke,[t("div",Xe,[k.value==="imagine"?(l(),o("form",{key:0,class:"config-form",onSubmit:Y(he,["prevent"])},[t("fieldset",{class:"config-fieldset",disabled:c.value||j.value},[t("div",Ze,[e[16]||(e[16]=t("label",null,"Task Type *",-1)),t("div",et,[t("button",{type:"button",class:I(["option-btn",{active:i.taskType==="mj_txt2img"}]),onClick:e[0]||(e[0]=a=>i.taskType="mj_txt2img")}," Text-to-image ",2),t("button",{type:"button",class:I(["option-btn",{active:i.taskType==="mj_img2img"}]),onClick:e[1]||(e[1]=a=>i.taskType="mj_img2img")}," Image-to-image ",2)])]),t("div",tt,[e[17]||(e[17]=t("label",null,"Prompt *",-1)),b(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=a=>i.prompt=a),rows:"4",required:"",placeholder:"Describe the desired image content. Be detailed (style, composition, lighting). Example: Help me generate a sci-fi themed fighter jet in a beautiful sky, to be used as a computer wallpaper",maxlength:"2000"},null,512),[[T,i.prompt]]),t("div",st,f(i.prompt.length)+"/2000",1)]),t("div",at,[e[18]||(e[18]=t("label",null,"Speed",-1)),t("div",it,[t("button",{type:"button",class:I(["option-btn",{active:i.speed==="relaxed"}]),onClick:e[3]||(e[3]=a=>i.speed="relaxed")},"relaxed",2),t("button",{type:"button",class:I(["option-btn",{active:i.speed==="fast"}]),onClick:e[4]||(e[4]=a=>i.speed="fast")},"fast",2),t("button",{type:"button",class:I(["option-btn",{active:i.speed==="turbo"}]),onClick:e[5]||(e[5]=a=>i.speed="turbo")},"turbo",2)])]),i.taskType==="mj_img2img"?(l(),o("div",nt,[Ve(Ee,{ref_key:"fileUrlsUploadRef",ref:H,"input-id":"midjourney-input-images",label:"Input Image(s) *","upload-icon":"fas fa-cloud-upload-alt","upload-text":"Click to upload image","upload-hint":"Required for image-to-image.","max-files":5,"max-file-size":10*1024*1024,"theme-color":"#667eea","onUpdate:files":be},null,512)])):_("",!0),t("div",ot,[e[20]||(e[20]=t("label",null,"Aspect Ratio",-1)),b(t("select",{"onUpdate:modelValue":e[6]||(e[6]=a=>i.aspectRatio=a),class:"form-select form-select-enhanced"},[...e[19]||(e[19]=[se('<option value="1:2" data-v-b532afac>1:2</option><option value="9:16" data-v-b532afac>9:16</option><option value="2:3" data-v-b532afac>2:3</option><option value="3:4" data-v-b532afac>3:4</option><option value="5:6" data-v-b532afac>5:6</option><option value="6:5" data-v-b532afac>6:5</option><option value="4:3" data-v-b532afac>4:3</option><option value="3:2" data-v-b532afac>3:2</option><option value="1:1" data-v-b532afac>1:1</option><option value="16:9" data-v-b532afac>16:9</option><option value="2:1" data-v-b532afac>2:1</option>',11)])],512),[[P,i.aspectRatio]])]),t("div",lt,[e[22]||(e[22]=t("label",null,"Version",-1)),b(t("select",{"onUpdate:modelValue":e[7]||(e[7]=a=>i.version=a),class:"form-select form-select-enhanced"},[...e[21]||(e[21]=[se('<option value="7" data-v-b532afac>7</option><option value="6.1" data-v-b532afac>6.1</option><option value="6" data-v-b532afac>6</option><option value="5.2" data-v-b532afac>5.2</option><option value="5.1" data-v-b532afac>5.1</option><option value="niji6" data-v-b532afac>niji6</option><option value="niji7" data-v-b532afac>niji7</option>',7)])],512),[[P,i.version]])]),t("div",rt,[e[23]||(e[23]=t("label",null,"Variety (0â€“100, step 5)",-1)),b(t("input",{"onUpdate:modelValue":e[8]||(e[8]=a=>i.variety=a),type:"number",min:"0",max:"100",step:"5",class:"form-input"},null,512),[[T,i.variety,void 0,{number:!0}]]),e[24]||(e[24]=t("div",{class:"input-hint"},"Higher = more diverse; lower = more consistent",-1))]),t("div",ut,[e[25]||(e[25]=t("label",null,"Stylization (0â€“1000)",-1)),b(t("input",{"onUpdate:modelValue":e[9]||(e[9]=a=>i.stylization=a),type:"number",min:"0",max:"1000",step:"50",class:"form-input"},null,512),[[T,i.stylization,void 0,{number:!0}]]),e[26]||(e[26]=t("div",{class:"input-hint"},"Higher = more stylized; lower = more realistic",-1))]),t("div",dt,[e[27]||(e[27]=t("label",null,"Weirdness (0â€“3000)",-1)),b(t("input",{"onUpdate:modelValue":e[10]||(e[10]=a=>i.weirdness=a),type:"number",min:"0",max:"3000",step:"100",class:"form-input"},null,512),[[T,i.weirdness,void 0,{number:!0}]]),e[28]||(e[28]=t("div",{class:"input-hint"},"Higher = more unusual; lower = more conventional",-1))]),t("div",pt,[e[29]||(e[29]=t("label",null,"Watermark",-1)),b(t("input",{"onUpdate:modelValue":e[11]||(e[11]=a=>i.waterMark=a),type:"text",class:"form-input",placeholder:"Optional watermark identifier"},null,512),[[T,i.waterMark]])]),t("div",ct,[t("button",{class:"btn-primary",type:"submit",disabled:c.value||!((u=i.prompt)!=null&&u.trim())||ye.value},[c.value?(l(),o("i",vt)):(l(),o("i",ft)),G(" "+f(c.value?"Generating...":"Start Generation")+f(W.value),1)],8,mt)])],8,Qe)],32)):_("",!0),k.value==="upscale"?(l(),o("form",{key:1,class:"config-form",onSubmit:Y(Ie,["prevent"])},[t("fieldset",{class:"config-fieldset",disabled:c.value||j.value},[e[36]||(e[36]=t("p",{class:"category-desc"},"Create an upscale task based on previously generated Midjourney images.",-1)),t("div",yt,[e[32]||(e[32]=t("label",null,"Task ID *",-1)),t("div",kt,[b((l(),o("select",{"onUpdate:modelValue":e[12]||(e[12]=a=>m.taskId=a),class:"form-select form-select-enhanced",required:"",disabled:S.value,key:"upscale-select-"+R.value.length},[e[30]||(e[30]=t("option",{value:""},"Select a task",-1)),(l(!0),o(x,null,M(R.value,a=>(l(),o("option",{key:a.taskId,value:a.taskId},f(a.title||a.taskId),9,ht))),128))],8,bt)),[[P,m.taskId]]),e[31]||(e[31]=t("i",{class:"fas fa-chevron-down select-arrow-icon","aria-hidden":"true"},null,-1))]),!S.value&&R.value.length===0?(l(),o("div",It,"Only tasks completed with Midjourney Imagine can be used.")):_("",!0)]),L.value.length?(l(),o("div",_t,[e[33]||(e[33]=t("label",null,"Image Index *",-1)),t("div",wt,[(l(!0),o(x,null,M(L.value,(a,n)=>(l(),o("button",{key:n,type:"button",class:I(["extend-image-index-item",{selected:m.imageIndex===n}]),onClick:y=>m.imageIndex=n},[t("img",{src:a,alt:`Image ${n}`},null,8,Ut),t("span",xt,f(n),1)],10,jt))),128))]),e[34]||(e[34]=t("div",{class:"input-hint"},"Select one image",-1))])):_("",!0),t("div",Mt,[e[35]||(e[35]=t("label",null,"Watermark",-1)),b(t("input",{"onUpdate:modelValue":e[13]||(e[13]=a=>m.waterMark=a),type:"text",class:"form-input",placeholder:"Optional watermark identifier"},null,512),[[T,m.waterMark]])]),t("div",Tt,[t("button",{class:"btn-primary",type:"submit",disabled:c.value||!((r=m.taskId)!=null&&r.trim())},[c.value?(l(),o("i",Rt)):(l(),o("i",At)),G(" "+f(c.value?"Submitting...":"Upscale")+f(W.value),1)],8,St)])],8,gt)],32)):_("",!0),k.value==="vary"?(l(),o("form",{key:2,class:"config-form",onSubmit:Y(_e,["prevent"])},[t("fieldset",{class:"config-fieldset",disabled:c.value||j.value},[e[43]||(e[43]=t("p",{class:"category-desc"},"Create a vary task to enhance image clarity and simulate styles based on previously generated Midjourney images.",-1)),t("div",Ot,[e[39]||(e[39]=t("label",null,"Task ID *",-1)),t("div",Vt,[b((l(),o("select",{"onUpdate:modelValue":e[14]||(e[14]=a=>v.taskId=a),class:"form-select form-select-enhanced",required:"",disabled:S.value,key:"vary-select-"+R.value.length},[e[37]||(e[37]=t("option",{value:""},"Select a task",-1)),(l(!0),o(x,null,M(R.value,a=>(l(),o("option",{key:a.taskId,value:a.taskId},f(a.title||a.taskId),9,Et))),128))],8,$t)),[[P,v.taskId]]),e[38]||(e[38]=t("i",{class:"fas fa-chevron-down select-arrow-icon","aria-hidden":"true"},null,-1))]),!S.value&&R.value.length===0?(l(),o("div",Nt,"Only tasks completed with Midjourney Imagine can be used.")):_("",!0)]),L.value.length?(l(),o("div",Ft,[e[40]||(e[40]=t("label",null,"Image Index *",-1)),t("div",zt,[(l(!0),o(x,null,M(L.value,(a,n)=>(l(),o("button",{key:n,type:"button",class:I(["extend-image-index-item",{selected:v.imageIndex===n+1}]),onClick:y=>v.imageIndex=n+1},[t("img",{src:a,alt:`Image ${n+1}`},null,8,Dt),t("span",Lt,f(n+1),1)],10,qt))),128))]),e[41]||(e[41]=t("div",{class:"input-hint"},"Select one image",-1))])):_("",!0),t("div",Pt,[e[42]||(e[42]=t("label",null,"Watermark",-1)),b(t("input",{"onUpdate:modelValue":e[15]||(e[15]=a=>v.waterMark=a),type:"text",class:"form-input",placeholder:"Optional watermark identifier"},null,512),[[T,v.waterMark]])]),t("div",Gt,[t("button",{class:"btn-primary",type:"submit",disabled:c.value||!((d=v.taskId)!=null&&d.trim())},[c.value?(l(),o("i",Wt)):(l(),o("i",Ht)),G(" "+f(c.value?"Submitting...":"Vary")+f(W.value),1)],8,Bt)])],8,Ct)],32)):_("",!0)]),t("div",Jt,[t("div",Yt,[e[45]||(e[45]=t("h4",null,"Generation Results",-1)),!j.value&&O.value.length?(l(),o("div",Kt,[t("button",{onClick:we,class:"btn-secondary"},[...e[44]||(e[44]=[t("i",{class:"fas fa-trash"},null,-1),G(" Clear ",-1)])])])):_("",!0)]),t("div",Xt,[j.value&&g.value&&g.value.status===2&&K.value.length>0?(l(),o("div",Qt,[(l(!0),o(x,null,M(K.value,(a,n)=>(l(),o("div",{key:n,class:"result-item"},[t("div",Zt,[a.isImage?(l(),o("img",{key:0,src:a.url,class:"detail-output-image",alt:`Output ${n+1}`},null,8,es)):(l(),o("pre",ts,f(a.url),1))])]))),128))])):j.value&&g.value&&g.value.status===3?(l(),o("div",ss,[...e[46]||(e[46]=[t("div",{class:"failure-icon"},[t("i",{class:"fas fa-exclamation-circle"})],-1),t("p",{class:"failure-message"},"Generation failed. You can debug the parameters and try generating again. Generation failure will not consume credits.",-1)])])):j.value&&(!g.value||g.value.status===1)?(l(),o("div",as,[...e[47]||(e[47]=[t("i",{class:"fas fa-spinner fa-spin detail-spinner"},null,-1),t("p",null,"Generating...",-1)])])):j.value?(l(),o("div",is,[...e[48]||(e[48]=[t("p",null,"No output",-1)])])):O.value.length?(l(),o("div",ns,[(l(!0),o(x,null,M(O.value,(a,n)=>(l(),o("div",{key:n,class:"result-item"},[t("div",os,[t("span",ls,f(Ue(a.time)),1),t("span",rs,f(xe(a.data)),1)]),t("div",us,[t("pre",ds,f(je(a.data)),1)])]))),128))])):(l(),o("div",ps,[...e[49]||(e[49]=[t("div",{class:"empty-icon"},[t("i",{class:"fas fa-paint-brush"})],-1),t("h3",null,"Waiting for Generation",-1),t("p",null,"Fill in the prompt and optional reference images, then click Start Generation to create your AI image",-1)])]))])])]),e[51]||(e[51]=t("div",{class:"usage-tips"},[t("div",{class:"tip-item"},[t("span",{class:"tip-icon"},"ðŸŽ¨"),t("span",null,"Describe the image you want in English; the more detailed the prompt, the better the result")])],-1))])}}},Is=Se(ms,[["__scopeId","data-v-b532afac"]]);export{Is as M};
